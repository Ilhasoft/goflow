<html>
    <head>
        <title>Context</title>
        <link href="https://fonts.googleapis.com/css?family=Roboto+Slab" rel="stylesheet">
        <link href="styles.css" rel="stylesheet">
    </head>
    <body>
        <center>
            <h7>Context</h7>
        </center>

 <ul>
 <li><a href="#templates">Templates</a></li>
 <li><a href="#context">Context</a></li>
 <li><a href="#router-tests">Router Tests</a></li>
 </ul>  

<h1 id="templates">Templates</h1>
<p>Some properties of entities in the flow specification are <em>templates</em> - that is their values are dynamic and are evaluated at runtime. Templates can contain single variables or more complex expressions. A single variable is embedded using the <code>@</code> character. For example the template <code>Hi @contact.name</code> contains a single variable which at runtime will be replaced with the name of the current contact.</p>
<p>More complex expressions can be embedded using the <code>@(...)</code> syntax. For example the template <code>Hi @("Dr " &amp; upper(contact.name))</code> takes the contact name, converts it to uppercase, and the prefixes it with another string.</p>
<p>The <code>@</code> symbol can be escaped in templates by repeating it, ie, <code>Hi @@twitter</code> would output <code>Hi @twitter</code>.</p>
<h1 id="context">Context</h1>
<p>The context is all the variables which are accessible in expressions and contains the following top-level variables:</p>
<ul>
<li><code>run</code> the current <a href="#context:run">run</a></li>
<li><code>parent</code> the parent of the current <a href="#context:run">run</a>, i.e. the run that started the current run</li>
<li><code>child</code> the child of the current <a href="#context:run">run</a>, i.e. the last subflow</li>
<li><code>contact</code> the current <a href="#context:contact">contact</a>, shortcut for <code>@run.contact</code></li>
<li><code>results</code> the current <a href="#context:result">results</a>, shortcut for <code>@run.results</code></li>
<li><code>trigger</code> the <a href="#context:trigger">trigger</a> that initiated this session</li>
<li><code>input</code> the last <a href="#context:input">input</a> from the contact</li>
</ul>
<p>The following types appear in the context:</p>
<ul>
<li><a href="#context:channel">Channel</a></li>
<li><a href="#context:contact">Contact</a></li>
<li><a href="#context:flow">Flow</a></li>
<li><a href="#context:group">Group</a></li>
<li><a href="#context:input">Input</a></li>
<li><a href="#context:result">Result</a></li>
<li><a href="#context:run">Run</a></li>
<li><a href="#context:trigger">Trigger</a></li>
<li><a href="#context:urn">URN</a></li>
</ul>
<div class="context">
<p><a name="context:channel"></a></p>
<h2 id="channel">Channel</h2>
<p>Represents a means for sending and receiving input during a flow run. It renders as its name in a template, and has the following properties which can be accessed:</p>
<ul>
<li><code>uuid</code> the UUID of the channel</li>
<li><code>name</code> the name of the channel</li>
<li><code>address</code> the address of the channel</li>
</ul>
<p>Examples:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode objectivec"><code class="sourceCode objectivec"><a class="sourceLine" id="cb1-1" title="1">@contact.channel → {address: +<span class="dv">12345671111</span>, name: My Android Phone, uuid: 57f1078f-88aa-46f4-a59a-948a5739c03d}</a>
<a class="sourceLine" id="cb1-2" title="2">@contact.channel.name → My Android Phone</a>
<a class="sourceLine" id="cb1-3" title="3">@contact.channel.address → +<span class="dv">12345671111</span></a>
<a class="sourceLine" id="cb1-4" title="4">@input.channel.uuid → 57f1078f-88aa-46f4-a59a-948a5739c03d</a>
<a class="sourceLine" id="cb1-5" title="5">@(json(contact.channel)) → {<span class="st">&quot;address&quot;</span>:<span class="st">&quot;+12345671111&quot;</span>,<span class="st">&quot;name&quot;</span>:<span class="st">&quot;My Android Phone&quot;</span>,<span class="st">&quot;uuid&quot;</span>:<span class="st">&quot;57f1078f-88aa-46f4-a59a-948a5739c03d&quot;</span>}</a></code></pre></div>
<p><a name="context:contact"></a></p>
<h2 id="contact">Contact</h2>
<p>Represents a person who is interacting with the flow. It renders as the person’s name (or perferred URN if name isn’t set) in a template, and has the following properties which can be accessed:</p>
<ul>
<li><code>uuid</code> the UUID of the contact</li>
<li><code>name</code> the full name of the contact</li>
<li><code>first_name</code> the first name of the contact</li>
<li><code>language</code> the <a href="http://www-01.sil.org/iso639-3/">ISO-639-3</a> language code of the contact</li>
<li><code>timezone</code> the timezone name of the contact</li>
<li><code>created_on</code> the datetime when the contact was created</li>
<li><code>urns</code> all <a href="#context:urn">URNs</a> the contact has set</li>
<li><code>urns.[scheme]</code> all the <a href="#context:urn">URNs</a> the contact has set for the particular URN scheme</li>
<li><code>urn</code> shorthand for <code>@(format_urn(c.urns.0))</code>, i.e. the contact’s preferred <a href="#context:urn">URN</a> in friendly formatting</li>
<li><code>groups</code> all the <a href="#context:group">groups</a> that the contact belongs to</li>
<li><code>fields</code> all the custom contact fields the contact has set</li>
<li><code>fields.[snaked_field_name]</code> the value of the specific field</li>
<li><code>channel</code> shorthand for <code>contact.urns[0].channel</code>, i.e. the <a href="#context:channel">channel</a> of the contact’s preferred URN</li>
</ul>
<p>Examples:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode objectivec"><code class="sourceCode objectivec"><a class="sourceLine" id="cb2-1" title="1">@contact.name → Ryan Lewis</a>
<a class="sourceLine" id="cb2-2" title="2">@contact.first_name → Ryan</a>
<a class="sourceLine" id="cb2-3" title="3">@contact.language → eng</a>
<a class="sourceLine" id="cb2-4" title="4">@contact.timezone → America/Guayaquil</a>
<a class="sourceLine" id="cb2-5" title="5">@contact.created_on → <span class="dv">2018-06</span>-20T11:<span class="dv">40</span>:<span class="fl">30.123456</span>Z</a>
<a class="sourceLine" id="cb2-6" title="6">@contact.urns → [tel:+<span class="dv">12065551212</span>, twitterid:<span class="dv">54784326227</span>#nyaruka, mailto:foo@bar.com]</a>
<a class="sourceLine" id="cb2-7" title="7">@(contact.urns[<span class="dv">0</span>]) → tel:+<span class="dv">12065551212</span></a>
<a class="sourceLine" id="cb2-8" title="8">@contact.urn → tel:+<span class="dv">12065551212</span></a>
<a class="sourceLine" id="cb2-9" title="9">@(foreach(contact.groups, extract, <span class="st">&quot;name&quot;</span>)) → [Testers, Males]</a>
<a class="sourceLine" id="cb2-10" title="10">@contact.fields → {activation_token: AACC55, age: <span class="dv">23</span>, gender: Male, join_date: <span class="dv">2017-12</span>-02T00:<span class="dv">00</span>:<span class="fl">00.000000</span><span class="dv">-02</span>:<span class="dv">00</span>, not_set: }</a>
<a class="sourceLine" id="cb2-11" title="11">@contact.fields.activation_token → AACC55</a>
<a class="sourceLine" id="cb2-12" title="12">@contact.fields.gender → Male</a></code></pre></div>
<p><a name="context:flow"></a></p>
<h2 id="flow">Flow</h2>
<p>Describes the ordered logic of actions and routers. It renders as its name in a template, and has the following properties which can be accessed:</p>
<ul>
<li><code>uuid</code> the UUID of the flow</li>
<li><code>name</code> the name of the flow</li>
<li><code>revision</code> the revision number of the flow</li>
</ul>
<p>Examples:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode objectivec"><code class="sourceCode objectivec"><a class="sourceLine" id="cb3-1" title="1">@run.flow → {name: Registration, revision: <span class="dv">123</span>, uuid: 50c3706e-fedb-42c0-8eab-dda3335714b7}</a>
<a class="sourceLine" id="cb3-2" title="2">@child.flow.name → Collect Age</a>
<a class="sourceLine" id="cb3-3" title="3">@run.flow.uuid → 50c3706e-fedb-42c0-8eab-dda3335714b7</a>
<a class="sourceLine" id="cb3-4" title="4">@(json(run.flow)) → {<span class="st">&quot;name&quot;</span>:<span class="st">&quot;Registration&quot;</span>,<span class="st">&quot;revision&quot;</span>:<span class="dv">123</span>,<span class="st">&quot;uuid&quot;</span>:<span class="st">&quot;50c3706e-fedb-42c0-8eab-dda3335714b7&quot;</span>}</a></code></pre></div>
<p><a name="context:group"></a></p>
<h2 id="group">Group</h2>
<p>Represents a grouping of contacts. It can be static (contacts are added and removed manually through <a href="#action:add_contact_groups">actions</a>) or dynamic (contacts are added automatically by a query). It renders as its name in a template, and has the following properties which can be accessed:</p>
<ul>
<li><code>uuid</code> the UUID of the group</li>
<li><code>name</code> the name of the group</li>
</ul>
<p>Examples:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode objectivec"><code class="sourceCode objectivec"><a class="sourceLine" id="cb4-1" title="1">@(foreach(contact.groups, extract, <span class="st">&quot;name&quot;</span>)) → [Testers, Males]</a>
<a class="sourceLine" id="cb4-2" title="2">@(contact.groups[<span class="dv">0</span>].uuid) → b7cf0d83-f1c9-411c-96fd-c511a4cfa86d</a>
<a class="sourceLine" id="cb4-3" title="3">@(contact.groups[<span class="dv">1</span>].name) → Males</a>
<a class="sourceLine" id="cb4-4" title="4">@(json(contact.groups[<span class="dv">1</span>])) → {<span class="st">&quot;name&quot;</span>:<span class="st">&quot;Males&quot;</span>,<span class="st">&quot;uuid&quot;</span>:<span class="st">&quot;4f1f98fc-27a7-4a69-bbdb-24744ba739a9&quot;</span>}</a></code></pre></div>
<p><a name="context:input"></a></p>
<h2 id="input">Input</h2>
<p>Describes input from the contact and currently we only support one type of input: <code>msg</code>. Any input has the following properties which can be accessed:</p>
<ul>
<li><code>uuid</code> the UUID of the input</li>
<li><code>type</code> the type of the input, e.g. <code>msg</code></li>
<li><code>channel</code> the <a href="#context:channel">channel</a> that the input was received on</li>
<li><code>created_on</code> the time when the input was created</li>
</ul>
<p>An input of type <code>msg</code> renders as its text and attachments in a template, and has the following additional properties:</p>
<ul>
<li><code>text</code> the text of the message</li>
<li><code>attachments</code> any <a href="#context:attachment">attachments</a> on the message</li>
<li><code>urn</code> the <a href="#context:urn">URN</a> that the input was received on</li>
</ul>
<p>Examples:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode objectivec"><code class="sourceCode objectivec"><a class="sourceLine" id="cb5-1" title="1">@input → {attachments: [image/jpeg:http:<span class="co">//s3.amazon.com/bucket/test.jpg, audio/mp3:http://s3.amazon.com/bucket/test.mp3], channel: {address: +12345671111, name: My Android Phone, uuid: 57f1078f-88aa-46f4-a59a-948a5739c03d}, created_on: 2017-12-31T11:35:10.035757-02:00, text: Hi there, type: msg, urn: tel:+12065551212, uuid: 9bf91c2b-ce58-4cef-aacc-281e03f69ab5}</span></a>
<a class="sourceLine" id="cb5-2" title="2">@input.type → msg</a>
<a class="sourceLine" id="cb5-3" title="3">@input.text → Hi there</a>
<a class="sourceLine" id="cb5-4" title="4">@input.attachments → [image/jpeg:http:<span class="co">//s3.amazon.com/bucket/test.jpg, audio/mp3:http://s3.amazon.com/bucket/test.mp3]</span></a>
<a class="sourceLine" id="cb5-5" title="5">@(json(input)) → {<span class="st">&quot;attachments&quot;</span>:[<span class="st">&quot;image/jpeg:http://s3.amazon.com/bucket/test.jpg&quot;</span>,<span class="st">&quot;audio/mp3:http://s3.amazon.com/bucket/test.mp3&quot;</span>],<span class="st">&quot;channel&quot;</span>:{<span class="st">&quot;address&quot;</span>:<span class="st">&quot;+12345671111&quot;</span>,<span class="st">&quot;name&quot;</span>:<span class="st">&quot;My Android Phone&quot;</span>,<span class="st">&quot;uuid&quot;</span>:<span class="st">&quot;57f1078f-88aa-46f4-a59a-948a5739c03d&quot;</span>},<span class="st">&quot;created_on&quot;</span>:<span class="st">&quot;2017-12-31T11:35:10.035757-02:00&quot;</span>,<span class="st">&quot;text&quot;</span>:<span class="st">&quot;Hi there&quot;</span>,<span class="st">&quot;type&quot;</span>:<span class="st">&quot;msg&quot;</span>,<span class="st">&quot;urn&quot;</span>:<span class="st">&quot;tel:+12065551212&quot;</span>,<span class="st">&quot;uuid&quot;</span>:<span class="st">&quot;9bf91c2b-ce58-4cef-aacc-281e03f69ab5&quot;</span>}</a></code></pre></div>
<p><a name="context:result"></a></p>
<h2 id="result">Result</h2>
<p>Describes a value captured during a run’s execution. It might have been implicitly created by a router, or explicitly created by a <a href="#action:set_run_result">set_run_result</a> action.It renders as its value in a template, and has the following properties which can be accessed:</p>
<ul>
<li><code>value</code> the value of the result</li>
<li><code>category</code> the category of the result</li>
<li><code>category_localized</code> the localized category of the result</li>
<li><code>input</code> the input associated with the result</li>
<li><code>node_uuid</code> the UUID of the node where the result was created</li>
<li><code>created_on</code> the time when the result was created</li>
</ul>
<p>Examples:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode objectivec"><code class="sourceCode objectivec"><a class="sourceLine" id="cb6-1" title="1">@results.favorite_color → {category: Red, category_localized: Red, created_on: <span class="dv">2018-04</span>-11T18:<span class="dv">24</span>:<span class="fl">30.123456</span>Z, input: , name: Favorite Color, node_uuid: f5bb9b7a-7b5e-45c3-8f0e-61b4e95edf03, value: red}</a>
<a class="sourceLine" id="cb6-2" title="2">@results.favorite_color.value → red</a>
<a class="sourceLine" id="cb6-3" title="3">@results.favorite_color.category → Red</a></code></pre></div>
<p><a name="context:run"></a></p>
<h2 id="run">Run</h2>
<p>Is a single contact’s journey through a flow. It records the path they have taken, and the results that have been collected. It has several properties which can be accessed in expressions:</p>
<ul>
<li><code>uuid</code> the UUID of the run</li>
<li><code>flow</code> the <a href="#context:flow">flow</a> of the run</li>
<li><code>contact</code> the <a href="#context:contact">contact</a> of the flow run</li>
<li><code>input</code> the <a href="#context:input">input</a> of the current run</li>
<li><code>results</code> the results that have been saved for this run</li>
<li><code>results.[snaked_result_name]</code> the value of the specific result, e.g. <code>results.age</code></li>
</ul>
<p>Examples:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode objectivec"><code class="sourceCode objectivec"><a class="sourceLine" id="cb7-1" title="1">@run.flow.name → Registration</a></code></pre></div>
<p><a name="context:trigger"></a></p>
<h2 id="trigger">Trigger</h2>
<p>Represents something which can initiate a session with the flow engine. It has several properties which can be accessed in expressions:</p>
<ul>
<li><code>type</code> the type of the trigger, one of “manual” or “flow”</li>
<li><code>params</code> the parameters passed to the trigger</li>
</ul>
<p>Examples:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode objectivec"><code class="sourceCode objectivec"><a class="sourceLine" id="cb8-1" title="1">@trigger.type → flow_action</a>
<a class="sourceLine" id="cb8-2" title="2">@trigger.params → {address: {state: WA}, source: website}</a>
<a class="sourceLine" id="cb8-3" title="3">@(json(trigger)) → {<span class="st">&quot;params&quot;</span>:{<span class="st">&quot;address&quot;</span>:{<span class="st">&quot;state&quot;</span>:<span class="st">&quot;WA&quot;</span>},<span class="st">&quot;source&quot;</span>:<span class="st">&quot;website&quot;</span>},<span class="st">&quot;type&quot;</span>:<span class="st">&quot;flow_action&quot;</span>}</a></code></pre></div>
<p><a name="context:urn"></a></p>
<h2 id="urn">Urn</h2>
<p>Represents a destination for an outgoing message or a source of an incoming message. It is string composed of 3 components: scheme, path, and display (optional). For example:</p>
<ul>
<li><em>tel:+16303524567</em></li>
<li><em>twitterid:54784326227#nyaruka</em></li>
<li><em>telegram:34642632786#bobby</em></li>
</ul>
<p>To render a URN in a human friendly format, use the <a href="expressions.html#function:format_urn">format_urn</a> function.</p>
<p>Examples:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode objectivec"><code class="sourceCode objectivec"><a class="sourceLine" id="cb9-1" title="1">@(urns.tel) → tel:+<span class="dv">12065551212</span></a>
<a class="sourceLine" id="cb9-2" title="2">@(urn_parts(urns.tel).scheme) → tel</a>
<a class="sourceLine" id="cb9-3" title="3">@(format_urn(urns.tel)) → (<span class="dv">206</span>) <span class="dv">555-1212</span></a>
<a class="sourceLine" id="cb9-4" title="4">@(json(contact.urns[<span class="dv">0</span>])) → <span class="st">&quot;tel:+12065551212&quot;</span></a></code></pre></div>
</div>
<h1 id="router-tests">Router Tests</h1>
<p>Router tests are a special class of functions which are used within the switch router. They are called in the same way as normal functions, but all return a test result object which by default evalutes to true or false, but can also be used to find the matching portion of the test by using the <code>match</code> component of the result. The flow editor builds these expressions using UI widgets, but they can be used anywhere a normal template function is used.</p>
<div class="tests">
<p><a name="test:has_all_words"></a></p>
<h2 id="has_all_wordstext-words">has_all_words(text, words)</h2>
<p>Tests whether all the <code>words</code> are contained in <code>text</code></p>
<p>The words can be in any order and may appear more than once.</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode objectivec"><code class="sourceCode objectivec"><a class="sourceLine" id="cb10-1" title="1">@(has_all_words(<span class="st">&quot;the quick brown FOX&quot;</span>, <span class="st">&quot;the fox&quot;</span>)) → {match: the FOX}</a>
<a class="sourceLine" id="cb10-2" title="2">@(has_all_words(<span class="st">&quot;the quick brown fox&quot;</span>, <span class="st">&quot;red fox&quot;</span>)) →</a></code></pre></div>
<p><a name="test:has_any_word"></a></p>
<h2 id="has_any_wordtext-words">has_any_word(text, words)</h2>
<p>Tests whether any of the <code>words</code> are contained in the <code>text</code></p>
<p>Only one of the words needs to match and it may appear more than once.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode objectivec"><code class="sourceCode objectivec"><a class="sourceLine" id="cb11-1" title="1">@(has_any_word(<span class="st">&quot;The Quick Brown Fox&quot;</span>, <span class="st">&quot;fox quick&quot;</span>)) → {match: Quick Fox}</a>
<a class="sourceLine" id="cb11-2" title="2">@(has_any_word(<span class="st">&quot;The Quick Brown Fox&quot;</span>, <span class="st">&quot;red fox&quot;</span>)) → {match: Fox}</a></code></pre></div>
<p><a name="test:has_beginning"></a></p>
<h2 id="has_beginningtext-beginning">has_beginning(text, beginning)</h2>
<p>Tests whether <code>text</code> starts with <code>beginning</code></p>
<p>Both text values are trimmed of surrounding whitespace, but otherwise matching is strict without any tokenization.</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode objectivec"><code class="sourceCode objectivec"><a class="sourceLine" id="cb12-1" title="1">@(has_beginning(<span class="st">&quot;The Quick Brown&quot;</span>, <span class="st">&quot;the quick&quot;</span>)) → {match: The Quick}</a>
<a class="sourceLine" id="cb12-2" title="2">@(has_beginning(<span class="st">&quot;The Quick Brown&quot;</span>, <span class="st">&quot;the   quick&quot;</span>)) →</a>
<a class="sourceLine" id="cb12-3" title="3">@(has_beginning(<span class="st">&quot;The Quick Brown&quot;</span>, <span class="st">&quot;quick brown&quot;</span>)) →</a></code></pre></div>
<p><a name="test:has_date"></a></p>
<h2 id="has_datetext">has_date(text)</h2>
<p>Tests whether <code>text</code> contains a date formatted according to our environment</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode objectivec"><code class="sourceCode objectivec"><a class="sourceLine" id="cb13-1" title="1">@(has_date(<span class="st">&quot;the date is 15/01/2017&quot;</span>)) → {match: <span class="dv">2017-01</span>-15T13:<span class="dv">24</span>:<span class="fl">30.123456</span><span class="dv">-05</span>:<span class="dv">00</span>}</a>
<a class="sourceLine" id="cb13-2" title="2">@(has_date(<span class="st">&quot;there is no date here, just a year 2017&quot;</span>)) →</a></code></pre></div>
<p><a name="test:has_date_eq"></a></p>
<h2 id="has_date_eqtext-date">has_date_eq(text, date)</h2>
<p>Tests whether <code>text</code> a date equal to <code>date</code></p>
<div class="sourceCode" id="cb14"><pre class="sourceCode objectivec"><code class="sourceCode objectivec"><a class="sourceLine" id="cb14-1" title="1">@(has_date_eq(<span class="st">&quot;the date is 15/01/2017&quot;</span>, <span class="st">&quot;2017-01-15&quot;</span>)) → {match: <span class="dv">2017-01</span>-15T13:<span class="dv">24</span>:<span class="fl">30.123456</span><span class="dv">-05</span>:<span class="dv">00</span>}</a>
<a class="sourceLine" id="cb14-2" title="2">@(has_date_eq(<span class="st">&quot;the date is 15/01/2017 15:00&quot;</span>, <span class="st">&quot;2017-01-15&quot;</span>)) → {match: <span class="dv">2017-01</span>-15T15:<span class="dv">00</span>:<span class="fl">00.000000</span><span class="dv">-05</span>:<span class="dv">00</span>}</a>
<a class="sourceLine" id="cb14-3" title="3">@(has_date_eq(<span class="st">&quot;there is no date here, just a year 2017&quot;</span>, <span class="st">&quot;2017-06-01&quot;</span>)) →</a>
<a class="sourceLine" id="cb14-4" title="4">@(has_date_eq(<span class="st">&quot;there is no date here, just a year 2017&quot;</span>, <span class="st">&quot;not date&quot;</span>)) → ERROR</a></code></pre></div>
<p><a name="test:has_date_gt"></a></p>
<h2 id="has_date_gttext-min">has_date_gt(text, min)</h2>
<p>Tests whether <code>text</code> a date after the date <code>min</code></p>
<div class="sourceCode" id="cb15"><pre class="sourceCode objectivec"><code class="sourceCode objectivec"><a class="sourceLine" id="cb15-1" title="1">@(has_date_gt(<span class="st">&quot;the date is 15/01/2017&quot;</span>, <span class="st">&quot;2017-01-01&quot;</span>)) → {match: <span class="dv">2017-01</span>-15T13:<span class="dv">24</span>:<span class="fl">30.123456</span><span class="dv">-05</span>:<span class="dv">00</span>}</a>
<a class="sourceLine" id="cb15-2" title="2">@(has_date_gt(<span class="st">&quot;the date is 15/01/2017&quot;</span>, <span class="st">&quot;2017-03-15&quot;</span>)) →</a>
<a class="sourceLine" id="cb15-3" title="3">@(has_date_gt(<span class="st">&quot;there is no date here, just a year 2017&quot;</span>, <span class="st">&quot;2017-06-01&quot;</span>)) →</a>
<a class="sourceLine" id="cb15-4" title="4">@(has_date_gt(<span class="st">&quot;there is no date here, just a year 2017&quot;</span>, <span class="st">&quot;not date&quot;</span>)) → ERROR</a></code></pre></div>
<p><a name="test:has_date_lt"></a></p>
<h2 id="has_date_lttext-max">has_date_lt(text, max)</h2>
<p>Tests whether <code>text</code> contains a date before the date <code>max</code></p>
<div class="sourceCode" id="cb16"><pre class="sourceCode objectivec"><code class="sourceCode objectivec"><a class="sourceLine" id="cb16-1" title="1">@(has_date_lt(<span class="st">&quot;the date is 15/01/2017&quot;</span>, <span class="st">&quot;2017-06-01&quot;</span>)) → {match: <span class="dv">2017-01</span>-15T13:<span class="dv">24</span>:<span class="fl">30.123456</span><span class="dv">-05</span>:<span class="dv">00</span>}</a>
<a class="sourceLine" id="cb16-2" title="2">@(has_date_lt(<span class="st">&quot;there is no date here, just a year 2017&quot;</span>, <span class="st">&quot;2017-06-01&quot;</span>)) →</a>
<a class="sourceLine" id="cb16-3" title="3">@(has_date_lt(<span class="st">&quot;there is no date here, just a year 2017&quot;</span>, <span class="st">&quot;not date&quot;</span>)) → ERROR</a></code></pre></div>
<p><a name="test:has_district"></a></p>
<h2 id="has_districttext-state">has_district(text, state)</h2>
<p>Tests whether a district name is contained in the <code>text</code>. If <code>state</code> is also provided then the returned district must be within that state.</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode objectivec"><code class="sourceCode objectivec"><a class="sourceLine" id="cb17-1" title="1">@(has_district(<span class="st">&quot;Gasabo&quot;</span>, <span class="st">&quot;Kigali&quot;</span>)) → {match: Rwanda &gt; Kigali City &gt; Gasabo}</a>
<a class="sourceLine" id="cb17-2" title="2">@(has_district(<span class="st">&quot;I live in Gasabo&quot;</span>, <span class="st">&quot;Kigali&quot;</span>)) → {match: Rwanda &gt; Kigali City &gt; Gasabo}</a>
<a class="sourceLine" id="cb17-3" title="3">@(has_district(<span class="st">&quot;Gasabo&quot;</span>, <span class="st">&quot;Boston&quot;</span>)) →</a>
<a class="sourceLine" id="cb17-4" title="4">@(has_district(<span class="st">&quot;Gasabo&quot;</span>)) → {match: Rwanda &gt; Kigali City &gt; Gasabo}</a></code></pre></div>
<p><a name="test:has_email"></a></p>
<h2 id="has_emailtext">has_email(text)</h2>
<p>Tests whether an email is contained in <code>text</code></p>
<div class="sourceCode" id="cb18"><pre class="sourceCode objectivec"><code class="sourceCode objectivec"><a class="sourceLine" id="cb18-1" title="1">@(has_email(<span class="st">&quot;my email is foo1@bar.com, please respond&quot;</span>)) → {match: foo1@bar.com}</a>
<a class="sourceLine" id="cb18-2" title="2">@(has_email(<span class="st">&quot;my email is &lt;foo@bar2.com&gt;&quot;</span>)) → {match: foo@bar2.com}</a>
<a class="sourceLine" id="cb18-3" title="3">@(has_email(<span class="st">&quot;i&#39;m not sharing my email&quot;</span>)) →</a></code></pre></div>
<p><a name="test:has_error"></a></p>
<h2 id="has_errorvalue">has_error(value)</h2>
<p>Returns whether <code>value</code> is an error</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode objectivec"><code class="sourceCode objectivec"><a class="sourceLine" id="cb19-1" title="1">@(has_error(datetime(<span class="st">&quot;foo&quot;</span>))) → {match: error calling DATETIME: unable to convert <span class="st">&quot;foo&quot;</span> to a datetime}</a>
<a class="sourceLine" id="cb19-2" title="2">@(has_error(run.not.existing)) → {match: dict has no property &#39;not&#39;}</a>
<a class="sourceLine" id="cb19-3" title="3">@(has_error(contact.fields.unset)) → {match: dict has no property &#39;unset&#39;}</a>
<a class="sourceLine" id="cb19-4" title="4">@(has_error(<span class="st">&quot;hello&quot;</span>)) →</a></code></pre></div>
<p><a name="test:has_group"></a></p>
<h2 id="has_groupcontact-group_uuid">has_group(contact, group_uuid)</h2>
<p>Returns whether the <code>contact</code> is part of group with the passed in UUID</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode objectivec"><code class="sourceCode objectivec"><a class="sourceLine" id="cb20-1" title="1">@(has_group(contact.groups, <span class="st">&quot;b7cf0d83-f1c9-411c-96fd-c511a4cfa86d&quot;</span>)) → {match: {name: Testers, uuid: b7cf0d83-f1c9-411c-96fd-c511a4cfa86d}}</a>
<a class="sourceLine" id="cb20-2" title="2">@(has_group(array(), <span class="st">&quot;97fe7029-3a15-4005-b0c7-277b884fc1d5&quot;</span>)) →</a></code></pre></div>
<p><a name="test:has_number"></a></p>
<h2 id="has_numbertext">has_number(text)</h2>
<p>Tests whether <code>text</code> contains a number</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode objectivec"><code class="sourceCode objectivec"><a class="sourceLine" id="cb21-1" title="1">@(has_number(<span class="st">&quot;the number is 42&quot;</span>)) → {match: <span class="dv">42</span>}</a>
<a class="sourceLine" id="cb21-2" title="2">@(has_number(<span class="st">&quot;the number is forty two&quot;</span>)) →</a></code></pre></div>
<p><a name="test:has_number_between"></a></p>
<h2 id="has_number_betweentext-min-max">has_number_between(text, min, max)</h2>
<p>Tests whether <code>text</code> contains a number between <code>min</code> and <code>max</code> inclusive</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode objectivec"><code class="sourceCode objectivec"><a class="sourceLine" id="cb22-1" title="1">@(has_number_between(<span class="st">&quot;the number is 42&quot;</span>, <span class="dv">40</span>, <span class="dv">44</span>)) → {match: <span class="dv">42</span>}</a>
<a class="sourceLine" id="cb22-2" title="2">@(has_number_between(<span class="st">&quot;the number is 42&quot;</span>, <span class="dv">50</span>, <span class="dv">60</span>)) →</a>
<a class="sourceLine" id="cb22-3" title="3">@(has_number_between(<span class="st">&quot;the number is not there&quot;</span>, <span class="dv">50</span>, <span class="dv">60</span>)) →</a>
<a class="sourceLine" id="cb22-4" title="4">@(has_number_between(<span class="st">&quot;the number is not there&quot;</span>, <span class="st">&quot;foo&quot;</span>, <span class="dv">60</span>)) → ERROR</a></code></pre></div>
<p><a name="test:has_number_eq"></a></p>
<h2 id="has_number_eqtext-value">has_number_eq(text, value)</h2>
<p>Tests whether <code>text</code> contains a number equal to the <code>value</code></p>
<div class="sourceCode" id="cb23"><pre class="sourceCode objectivec"><code class="sourceCode objectivec"><a class="sourceLine" id="cb23-1" title="1">@(has_number_eq(<span class="st">&quot;the number is 42&quot;</span>, <span class="dv">42</span>)) → {match: <span class="dv">42</span>}</a>
<a class="sourceLine" id="cb23-2" title="2">@(has_number_eq(<span class="st">&quot;the number is 42&quot;</span>, <span class="dv">40</span>)) →</a>
<a class="sourceLine" id="cb23-3" title="3">@(has_number_eq(<span class="st">&quot;the number is not there&quot;</span>, <span class="dv">40</span>)) →</a>
<a class="sourceLine" id="cb23-4" title="4">@(has_number_eq(<span class="st">&quot;the number is not there&quot;</span>, <span class="st">&quot;foo&quot;</span>)) → ERROR</a></code></pre></div>
<p><a name="test:has_number_gt"></a></p>
<h2 id="has_number_gttext-min">has_number_gt(text, min)</h2>
<p>Tests whether <code>text</code> contains a number greater than <code>min</code></p>
<div class="sourceCode" id="cb24"><pre class="sourceCode objectivec"><code class="sourceCode objectivec"><a class="sourceLine" id="cb24-1" title="1">@(has_number_gt(<span class="st">&quot;the number is 42&quot;</span>, <span class="dv">40</span>)) → {match: <span class="dv">42</span>}</a>
<a class="sourceLine" id="cb24-2" title="2">@(has_number_gt(<span class="st">&quot;the number is 42&quot;</span>, <span class="dv">42</span>)) →</a>
<a class="sourceLine" id="cb24-3" title="3">@(has_number_gt(<span class="st">&quot;the number is not there&quot;</span>, <span class="dv">40</span>)) →</a>
<a class="sourceLine" id="cb24-4" title="4">@(has_number_gt(<span class="st">&quot;the number is not there&quot;</span>, <span class="st">&quot;foo&quot;</span>)) → ERROR</a></code></pre></div>
<p><a name="test:has_number_gte"></a></p>
<h2 id="has_number_gtetext-min">has_number_gte(text, min)</h2>
<p>Tests whether <code>text</code> contains a number greater than or equal to <code>min</code></p>
<div class="sourceCode" id="cb25"><pre class="sourceCode objectivec"><code class="sourceCode objectivec"><a class="sourceLine" id="cb25-1" title="1">@(has_number_gte(<span class="st">&quot;the number is 42&quot;</span>, <span class="dv">42</span>)) → {match: <span class="dv">42</span>}</a>
<a class="sourceLine" id="cb25-2" title="2">@(has_number_gte(<span class="st">&quot;the number is 42&quot;</span>, <span class="dv">45</span>)) →</a>
<a class="sourceLine" id="cb25-3" title="3">@(has_number_gte(<span class="st">&quot;the number is not there&quot;</span>, <span class="dv">40</span>)) →</a>
<a class="sourceLine" id="cb25-4" title="4">@(has_number_gte(<span class="st">&quot;the number is not there&quot;</span>, <span class="st">&quot;foo&quot;</span>)) → ERROR</a></code></pre></div>
<p><a name="test:has_number_lt"></a></p>
<h2 id="has_number_lttext-max">has_number_lt(text, max)</h2>
<p>Tests whether <code>text</code> contains a number less than <code>max</code></p>
<div class="sourceCode" id="cb26"><pre class="sourceCode objectivec"><code class="sourceCode objectivec"><a class="sourceLine" id="cb26-1" title="1">@(has_number_lt(<span class="st">&quot;the number is 42&quot;</span>, <span class="dv">44</span>)) → {match: <span class="dv">42</span>}</a>
<a class="sourceLine" id="cb26-2" title="2">@(has_number_lt(<span class="st">&quot;the number is 42&quot;</span>, <span class="dv">40</span>)) →</a>
<a class="sourceLine" id="cb26-3" title="3">@(has_number_lt(<span class="st">&quot;the number is not there&quot;</span>, <span class="dv">40</span>)) →</a>
<a class="sourceLine" id="cb26-4" title="4">@(has_number_lt(<span class="st">&quot;the number is not there&quot;</span>, <span class="st">&quot;foo&quot;</span>)) → ERROR</a></code></pre></div>
<p><a name="test:has_number_lte"></a></p>
<h2 id="has_number_ltetext-max">has_number_lte(text, max)</h2>
<p>Tests whether <code>text</code> contains a number less than or equal to <code>max</code></p>
<div class="sourceCode" id="cb27"><pre class="sourceCode objectivec"><code class="sourceCode objectivec"><a class="sourceLine" id="cb27-1" title="1">@(has_number_lte(<span class="st">&quot;the number is 42&quot;</span>, <span class="dv">42</span>)) → {match: <span class="dv">42</span>}</a>
<a class="sourceLine" id="cb27-2" title="2">@(has_number_lte(<span class="st">&quot;the number is 42&quot;</span>, <span class="dv">40</span>)) →</a>
<a class="sourceLine" id="cb27-3" title="3">@(has_number_lte(<span class="st">&quot;the number is not there&quot;</span>, <span class="dv">40</span>)) →</a>
<a class="sourceLine" id="cb27-4" title="4">@(has_number_lte(<span class="st">&quot;the number is not there&quot;</span>, <span class="st">&quot;foo&quot;</span>)) → ERROR</a></code></pre></div>
<p><a name="test:has_only_phrase"></a></p>
<h2 id="has_only_phrasetext-phrase">has_only_phrase(text, phrase)</h2>
<p>Tests whether the <code>text</code> contains only <code>phrase</code></p>
<p>The phrase must be the only text in the text to match</p>
<div class="sourceCode" id="cb28"><pre class="sourceCode objectivec"><code class="sourceCode objectivec"><a class="sourceLine" id="cb28-1" title="1">@(has_only_phrase(<span class="st">&quot;The Quick Brown Fox&quot;</span>, <span class="st">&quot;quick brown&quot;</span>)) →</a>
<a class="sourceLine" id="cb28-2" title="2">@(has_only_phrase(<span class="st">&quot;Quick Brown&quot;</span>, <span class="st">&quot;quick brown&quot;</span>)) → {match: Quick Brown}</a>
<a class="sourceLine" id="cb28-3" title="3">@(has_only_phrase(<span class="st">&quot;the Quick Brown fox&quot;</span>, <span class="st">&quot;&quot;</span>)) →</a>
<a class="sourceLine" id="cb28-4" title="4">@(has_only_phrase(<span class="st">&quot;&quot;</span>, <span class="st">&quot;&quot;</span>)) → {match: }</a>
<a class="sourceLine" id="cb28-5" title="5">@(has_only_phrase(<span class="st">&quot;The Quick Brown Fox&quot;</span>, <span class="st">&quot;red fox&quot;</span>)) →</a></code></pre></div>
<p><a name="test:has_pattern"></a></p>
<h2 id="has_patterntext-pattern">has_pattern(text, pattern)</h2>
<p>Tests whether <code>text</code> matches the regex <code>pattern</code></p>
<p>Both text values are trimmed of surrounding whitespace and matching is case-insensitive.</p>
<div class="sourceCode" id="cb29"><pre class="sourceCode objectivec"><code class="sourceCode objectivec"><a class="sourceLine" id="cb29-1" title="1">@(has_pattern(<span class="st">&quot;Sell cheese please&quot;</span>, <span class="st">&quot;buy (\w+)&quot;</span>)) →</a>
<a class="sourceLine" id="cb29-2" title="2">@(has_pattern(<span class="st">&quot;Buy cheese please&quot;</span>, <span class="st">&quot;buy (\w+)&quot;</span>)) → {extra: {<span class="dv">0</span>: Buy cheese, <span class="dv">1</span>: cheese}, match: Buy cheese}</a></code></pre></div>
<p><a name="test:has_phone"></a></p>
<h2 id="has_phonetext-country_code">has_phone(text, country_code)</h2>
<p>Tests whether <code>text</code> contains a phone number. The optional <code>country_code</code> argument specifies the country to use for parsing.</p>
<div class="sourceCode" id="cb30"><pre class="sourceCode objectivec"><code class="sourceCode objectivec"><a class="sourceLine" id="cb30-1" title="1">@(has_phone(<span class="st">&quot;my number is +12067799294&quot;</span>)) → {match: +<span class="dv">12067799294</span>}</a>
<a class="sourceLine" id="cb30-2" title="2">@(has_phone(<span class="st">&quot;my number is 2067799294&quot;</span>, <span class="st">&quot;US&quot;</span>)) → {match: +<span class="dv">12067799294</span>}</a>
<a class="sourceLine" id="cb30-3" title="3">@(has_phone(<span class="st">&quot;my number is 206 779 9294&quot;</span>, <span class="st">&quot;US&quot;</span>)) → {match: +<span class="dv">12067799294</span>}</a>
<a class="sourceLine" id="cb30-4" title="4">@(has_phone(<span class="st">&quot;my number is none of your business&quot;</span>, <span class="st">&quot;US&quot;</span>)) →</a></code></pre></div>
<p><a name="test:has_phrase"></a></p>
<h2 id="has_phrasetext-phrase">has_phrase(text, phrase)</h2>
<p>Tests whether <code>phrase</code> is contained in <code>text</code></p>
<p>The words in the test phrase must appear in the same order with no other words in between.</p>
<div class="sourceCode" id="cb31"><pre class="sourceCode objectivec"><code class="sourceCode objectivec"><a class="sourceLine" id="cb31-1" title="1">@(has_phrase(<span class="st">&quot;the quick brown fox&quot;</span>, <span class="st">&quot;brown fox&quot;</span>)) → {match: brown fox}</a>
<a class="sourceLine" id="cb31-2" title="2">@(has_phrase(<span class="st">&quot;the Quick Brown fox&quot;</span>, <span class="st">&quot;quick fox&quot;</span>)) →</a>
<a class="sourceLine" id="cb31-3" title="3">@(has_phrase(<span class="st">&quot;the Quick Brown fox&quot;</span>, <span class="st">&quot;&quot;</span>)) → {match: }</a></code></pre></div>
<p><a name="test:has_state"></a></p>
<h2 id="has_statetext">has_state(text)</h2>
<p>Tests whether a state name is contained in the <code>text</code></p>
<div class="sourceCode" id="cb32"><pre class="sourceCode objectivec"><code class="sourceCode objectivec"><a class="sourceLine" id="cb32-1" title="1">@(has_state(<span class="st">&quot;Kigali&quot;</span>)) → {match: Rwanda &gt; Kigali City}</a>
<a class="sourceLine" id="cb32-2" title="2">@(has_state(<span class="st">&quot;¡Kigali!&quot;</span>)) → {match: Rwanda &gt; Kigali City}</a>
<a class="sourceLine" id="cb32-3" title="3">@(has_state(<span class="st">&quot;I live in Kigali&quot;</span>)) → {match: Rwanda &gt; Kigali City}</a>
<a class="sourceLine" id="cb32-4" title="4">@(has_state(<span class="st">&quot;Boston&quot;</span>)) →</a></code></pre></div>
<p><a name="test:has_text"></a></p>
<h2 id="has_texttext">has_text(text)</h2>
<p>Tests whether there the text has any characters in it</p>
<div class="sourceCode" id="cb33"><pre class="sourceCode objectivec"><code class="sourceCode objectivec"><a class="sourceLine" id="cb33-1" title="1">@(has_text(<span class="st">&quot;quick brown&quot;</span>)) → {match: quick brown}</a>
<a class="sourceLine" id="cb33-2" title="2">@(has_text(<span class="st">&quot;&quot;</span>)) →</a>
<a class="sourceLine" id="cb33-3" title="3">@(has_text(<span class="st">&quot; </span><span class="sc">\n</span><span class="st">&quot;</span>)) →</a>
<a class="sourceLine" id="cb33-4" title="4">@(has_text(<span class="dv">123</span>)) → {match: <span class="dv">123</span>}</a>
<a class="sourceLine" id="cb33-5" title="5">@(has_text(contact.fields.not_set)) →</a></code></pre></div>
<p><a name="test:has_time"></a></p>
<h2 id="has_timetext">has_time(text)</h2>
<p>Tests whether <code>text</code> contains a time.</p>
<div class="sourceCode" id="cb34"><pre class="sourceCode objectivec"><code class="sourceCode objectivec"><a class="sourceLine" id="cb34-1" title="1">@(has_time(<span class="st">&quot;the time is 10:30&quot;</span>)) → {match: <span class="dv">10</span>:<span class="dv">30</span>:<span class="fl">00.000000</span>}</a>
<a class="sourceLine" id="cb34-2" title="2">@(has_time(<span class="st">&quot;the time is 10 PM&quot;</span>)) → {match: <span class="dv">22</span>:<span class="dv">00</span>:<span class="fl">00.000000</span>}</a>
<a class="sourceLine" id="cb34-3" title="3">@(has_time(<span class="st">&quot;the time is 10:30:45&quot;</span>)) → {match: <span class="dv">10</span>:<span class="dv">30</span>:<span class="fl">45.000000</span>}</a>
<a class="sourceLine" id="cb34-4" title="4">@(has_time(<span class="st">&quot;there is no time here, just the number 25&quot;</span>)) →</a></code></pre></div>
<p><a name="test:has_value"></a></p>
<h2 id="has_valuevalue">has_value(value)</h2>
<p>Returns whether <code>value</code> is non-nil and not an error</p>
<p>Note that <code>contact.fields</code> and <code>run.results</code> are considered dynamic, so it is not an error to try to retrieve a value from fields or results which don’t exist, rather these return an empty value.</p>
<div class="sourceCode" id="cb35"><pre class="sourceCode objectivec"><code class="sourceCode objectivec"><a class="sourceLine" id="cb35-1" title="1">@(has_value(datetime(<span class="st">&quot;foo&quot;</span>))) →</a>
<a class="sourceLine" id="cb35-2" title="2">@(has_value(not.existing)) →</a>
<a class="sourceLine" id="cb35-3" title="3">@(has_value(contact.fields.unset)) →</a>
<a class="sourceLine" id="cb35-4" title="4">@(has_value(<span class="st">&quot;&quot;</span>)) →</a>
<a class="sourceLine" id="cb35-5" title="5">@(has_value(<span class="st">&quot;hello&quot;</span>)) → {match: hello}</a></code></pre></div>
<p><a name="test:has_ward"></a></p>
<h2 id="has_wardtext-district-state">has_ward(text, district, state)</h2>
<p>Tests whether a ward name is contained in the <code>text</code></p>
<div class="sourceCode" id="cb36"><pre class="sourceCode objectivec"><code class="sourceCode objectivec"><a class="sourceLine" id="cb36-1" title="1">@(has_ward(<span class="st">&quot;Gisozi&quot;</span>, <span class="st">&quot;Gasabo&quot;</span>, <span class="st">&quot;Kigali&quot;</span>)) → {match: Rwanda &gt; Kigali City &gt; Gasabo &gt; Gisozi}</a>
<a class="sourceLine" id="cb36-2" title="2">@(has_ward(<span class="st">&quot;I live in Gisozi&quot;</span>, <span class="st">&quot;Gasabo&quot;</span>, <span class="st">&quot;Kigali&quot;</span>)) → {match: Rwanda &gt; Kigali City &gt; Gasabo &gt; Gisozi}</a>
<a class="sourceLine" id="cb36-3" title="3">@(has_ward(<span class="st">&quot;Gisozi&quot;</span>, <span class="st">&quot;Gasabo&quot;</span>, <span class="st">&quot;Brooklyn&quot;</span>)) →</a>
<a class="sourceLine" id="cb36-4" title="4">@(has_ward(<span class="st">&quot;Gisozi&quot;</span>, <span class="st">&quot;Brooklyn&quot;</span>, <span class="st">&quot;Kigali&quot;</span>)) →</a>
<a class="sourceLine" id="cb36-5" title="5">@(has_ward(<span class="st">&quot;Brooklyn&quot;</span>, <span class="st">&quot;Gasabo&quot;</span>, <span class="st">&quot;Kigali&quot;</span>)) →</a>
<a class="sourceLine" id="cb36-6" title="6">@(has_ward(<span class="st">&quot;Gasabo&quot;</span>)) →</a>
<a class="sourceLine" id="cb36-7" title="7">@(has_ward(<span class="st">&quot;Gisozi&quot;</span>)) → {match: Rwanda &gt; Kigali City &gt; Gasabo &gt; Gisozi}</a></code></pre></div>
<p><a name="test:is_text_eq"></a></p>
<h2 id="is_text_eqtext1-text2">is_text_eq(text1, text2)</h2>
<p>Returns whether two text values are equal (case sensitive). In the case that they are, it will return the text as the match.</p>
<div class="sourceCode" id="cb37"><pre class="sourceCode objectivec"><code class="sourceCode objectivec"><a class="sourceLine" id="cb37-1" title="1">@(is_text_eq(<span class="st">&quot;foo&quot;</span>, <span class="st">&quot;foo&quot;</span>)) → {match: foo}</a>
<a class="sourceLine" id="cb37-2" title="2">@(is_text_eq(<span class="st">&quot;foo&quot;</span>, <span class="st">&quot;FOO&quot;</span>)) →</a>
<a class="sourceLine" id="cb37-3" title="3">@(is_text_eq(<span class="st">&quot;foo&quot;</span>, <span class="st">&quot;bar&quot;</span>)) →</a>
<a class="sourceLine" id="cb37-4" title="4">@(is_text_eq(<span class="st">&quot;foo&quot;</span>, <span class="st">&quot; foo &quot;</span>)) →</a>
<a class="sourceLine" id="cb37-5" title="5">@(is_text_eq(run.status, <span class="st">&quot;completed&quot;</span>)) → {match: completed}</a>
<a class="sourceLine" id="cb37-6" title="6">@(is_text_eq(results.webhook.category, <span class="st">&quot;Success&quot;</span>)) → {match: Success}</a>
<a class="sourceLine" id="cb37-7" title="7">@(is_text_eq(results.webhook.category, <span class="st">&quot;Failure&quot;</span>)) →</a></code></pre></div>
</div>

    </body>
</html>