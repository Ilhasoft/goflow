<html>
    <head>
        <title>Expressions</title>
        <link href="https://fonts.googleapis.com/css?family=Roboto+Slab" rel="stylesheet">
        <link href="styles.css" rel="stylesheet">
    </head>
    <body>
        <center>
            <h7>Expressions</h7>
        </center>

 <ul>
 <li><a href="#overview">Overview</a></li>
 <li><a href="#templates">Templates</a></li>
 <li><a href="#types">Types</a></li>
 <li><a href="#operators">Operators</a></li>
 <li><a href="#functions">Functions</a></li>
 </ul>  

<h1 id="overview">Overview</h1>
<p>Excellent gets its name from borrowing some of the syntax and function names of formulas in Microsoft Excel™, though it has evolved over time and similarities are now much fewer. It is an expression based templating language which aims to make it easy to generate text from a context of values.</p>
<h1 id="templates">Templates</h1>
<p>Templates can contain single variables or more complex expressions. A single variable is embedded using the <code>@</code> character. For example the template <code>Hi @foo</code> contains a single variable which at runtime will be replaced with the value of <code>foo</code> in the context.</p>
<p>More complex expressions can be embedded using the <code>@(...)</code> syntax. For example the template <code>Hi @("Dr " &amp; upper(foo))</code> takes the value of <code>foo</code>, converts it to uppercase, and the prefixes it with another string. Note than within a complex expression you don’t prefix variables with <code>@</code>.</p>
<p>The <code>@</code> symbol can be escaped in templates by repeating it, e.g, <code>Hi @@twitter</code> will output <code>Hi @twitter</code>.</p>
<h1 id="types">Types</h1>
<p>Excellent has the following types:</p>
<ul>
<li><a href="#type:array">Array</a></li>
<li><a href="#type:boolean">Boolean</a></li>
<li><a href="#type:date">Date</a></li>
<li><a href="#type:datetime">DateTime</a></li>
<li><a href="#type:function">Function</a></li>
<li><a href="#type:number">Number</a></li>
<li><a href="#type:object">Object</a></li>
<li><a href="#type:text">Text</a></li>
<li><a href="#type:time">Time</a></li>
</ul>
<div class="types">
<p><a name="type:array"></a></p>
<h2 id="array">Array</h2>
<p>Is an array of items.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode objectivec"><code class="sourceCode objectivec"><span id="cb1-1"><a href="#cb1-1"></a>@(array(<span class="dv">1</span>, <span class="st">&quot;x&quot;</span>, true)) → [<span class="dv">1</span>, x, true]</span>
<span id="cb1-2"><a href="#cb1-2"></a>@(array(<span class="dv">1</span>, <span class="st">&quot;x&quot;</span>, true)[<span class="dv">1</span>]) → x</span>
<span id="cb1-3"><a href="#cb1-3"></a>@(count(array(<span class="dv">1</span>, <span class="st">&quot;x&quot;</span>, true))) → <span class="dv">3</span></span>
<span id="cb1-4"><a href="#cb1-4"></a>@(json(array(<span class="dv">1</span>, <span class="st">&quot;x&quot;</span>, true))) → [<span class="dv">1</span>,<span class="st">&quot;x&quot;</span>,true]</span></code></pre></div>
<p><a name="type:boolean"></a></p>
<h2 id="boolean">Boolean</h2>
<p>Is a boolean <code>true</code> or <code>false</code>.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode objectivec"><code class="sourceCode objectivec"><span id="cb2-1"><a href="#cb2-1"></a>@(true) → true</span>
<span id="cb2-2"><a href="#cb2-2"></a>@(<span class="dv">1</span> = <span class="dv">1</span>) → true</span>
<span id="cb2-3"><a href="#cb2-3"></a>@(<span class="dv">1</span> = <span class="dv">2</span>) → false</span>
<span id="cb2-4"><a href="#cb2-4"></a>@(json(true)) → true</span></code></pre></div>
<p><a name="type:date"></a></p>
<h2 id="date">Date</h2>
<p>Is a Gregorian calendar date value.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode objectivec"><code class="sourceCode objectivec"><span id="cb3-1"><a href="#cb3-1"></a>@(date_from_parts(<span class="dv">2019</span>, <span class="dv">4</span>, <span class="dv">11</span>)) → <span class="dv">2019-04-11</span></span>
<span id="cb3-2"><a href="#cb3-2"></a>@(format_date(date_from_parts(<span class="dv">2019</span>, <span class="dv">4</span>, <span class="dv">11</span>))) → <span class="dv">11-04-2019</span></span>
<span id="cb3-3"><a href="#cb3-3"></a>@(json(date_from_parts(<span class="dv">2019</span>, <span class="dv">4</span>, <span class="dv">11</span>))) → <span class="st">&quot;2019-04-11&quot;</span></span></code></pre></div>
<p><a name="type:datetime"></a></p>
<h2 id="datetime">Datetime</h2>
<p>Is a datetime value.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode objectivec"><code class="sourceCode objectivec"><span id="cb4-1"><a href="#cb4-1"></a>@(datetime(<span class="st">&quot;1979-07-18T10:30:45.123456Z&quot;</span>)) → <span class="dv">1979-07</span>-18T10:<span class="dv">30</span>:<span class="fl">45.123456</span>Z</span>
<span id="cb4-2"><a href="#cb4-2"></a>@(format_datetime(datetime(<span class="st">&quot;1979-07-18T10:30:45.123456Z&quot;</span>))) → <span class="dv">18-07-1979</span> <span class="dv">05</span>:<span class="dv">30</span></span>
<span id="cb4-3"><a href="#cb4-3"></a>@(json(datetime(<span class="st">&quot;1979-07-18T10:30:45.123456Z&quot;</span>))) → <span class="st">&quot;1979-07-18T10:30:45.123456Z&quot;</span></span></code></pre></div>
<p><a name="type:function"></a></p>
<h2 id="function">Function</h2>
<p>Is a callable function.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode objectivec"><code class="sourceCode objectivec"><span id="cb5-1"><a href="#cb5-1"></a>@(upper) → function</span>
<span id="cb5-2"><a href="#cb5-2"></a>@(array(upper)[<span class="dv">0</span>](<span class="st">&quot;abc&quot;</span>)) → ABC</span>
<span id="cb5-3"><a href="#cb5-3"></a>@(json(upper)) → null</span></code></pre></div>
<p><a name="type:number"></a></p>
<h2 id="number">Number</h2>
<p>Is a whole or fractional number.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode objectivec"><code class="sourceCode objectivec"><span id="cb6-1"><a href="#cb6-1"></a>@(<span class="dv">1234</span>) → <span class="dv">1234</span></span>
<span id="cb6-2"><a href="#cb6-2"></a>@(<span class="fl">1234.5678</span>) → <span class="fl">1234.5678</span></span>
<span id="cb6-3"><a href="#cb6-3"></a>@(format_number(<span class="fl">1234.5670</span>)) → <span class="dv">1</span>,<span class="fl">234.567</span></span>
<span id="cb6-4"><a href="#cb6-4"></a>@(json(<span class="fl">1234.5678</span>)) → <span class="fl">1234.5678</span></span></code></pre></div>
<p><a name="type:object"></a></p>
<h2 id="object">Object</h2>
<p>Is an object with named properties.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode objectivec"><code class="sourceCode objectivec"><span id="cb7-1"><a href="#cb7-1"></a>@(object(<span class="st">&quot;foo&quot;</span>, <span class="dv">1</span>, <span class="st">&quot;bar&quot;</span>, <span class="st">&quot;x&quot;</span>)) → {bar: x, foo: <span class="dv">1</span>}</span>
<span id="cb7-2"><a href="#cb7-2"></a>@(object(<span class="st">&quot;foo&quot;</span>, <span class="dv">1</span>, <span class="st">&quot;bar&quot;</span>, <span class="st">&quot;x&quot;</span>).bar) → x</span>
<span id="cb7-3"><a href="#cb7-3"></a>@(object(<span class="st">&quot;foo&quot;</span>, <span class="dv">1</span>, <span class="st">&quot;bar&quot;</span>, <span class="st">&quot;x&quot;</span>)[<span class="st">&quot;bar&quot;</span>]) → x</span>
<span id="cb7-4"><a href="#cb7-4"></a>@(count(object(<span class="st">&quot;foo&quot;</span>, <span class="dv">1</span>, <span class="st">&quot;bar&quot;</span>, <span class="st">&quot;x&quot;</span>))) → <span class="dv">2</span></span>
<span id="cb7-5"><a href="#cb7-5"></a>@(json(object(<span class="st">&quot;foo&quot;</span>, <span class="dv">1</span>, <span class="st">&quot;bar&quot;</span>, <span class="st">&quot;x&quot;</span>))) → {<span class="st">&quot;bar&quot;</span>:<span class="st">&quot;x&quot;</span>,<span class="st">&quot;foo&quot;</span>:<span class="dv">1</span>}</span></code></pre></div>
<p><a name="type:text"></a></p>
<h2 id="text">Text</h2>
<p>Is a string of characters.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode objectivec"><code class="sourceCode objectivec"><span id="cb8-1"><a href="#cb8-1"></a>@(<span class="st">&quot;abc&quot;</span>) → abc</span>
<span id="cb8-2"><a href="#cb8-2"></a>@(text_length(<span class="st">&quot;abc&quot;</span>)) → <span class="dv">3</span></span>
<span id="cb8-3"><a href="#cb8-3"></a>@(upper(<span class="st">&quot;abc&quot;</span>)) → ABC</span>
<span id="cb8-4"><a href="#cb8-4"></a>@(json(<span class="st">&quot;abc&quot;</span>)) → <span class="st">&quot;abc&quot;</span></span></code></pre></div>
<p><a name="type:time"></a></p>
<h2 id="time">Time</h2>
<p>Is a time of day.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode objectivec"><code class="sourceCode objectivec"><span id="cb9-1"><a href="#cb9-1"></a>@(time_from_parts(<span class="dv">16</span>, <span class="dv">30</span>, <span class="dv">45</span>)) → <span class="dv">16</span>:<span class="dv">30</span>:<span class="fl">45.000000</span></span>
<span id="cb9-2"><a href="#cb9-2"></a>@(format_time(time_from_parts(<span class="dv">16</span>, <span class="dv">30</span>, <span class="dv">45</span>))) → <span class="dv">16</span>:<span class="dv">30</span></span>
<span id="cb9-3"><a href="#cb9-3"></a>@(json(time_from_parts(<span class="dv">16</span>, <span class="dv">30</span>, <span class="dv">45</span>))) → <span class="st">&quot;16:30:45.000000&quot;</span></span></code></pre></div>
</div>
<h1 id="operators">Operators</h1>
<div class="operators">
<p><a name="operator:add"></a></p>
<h2 id="add">Add</h2>
<p>Adds two numbers.</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode objectivec"><code class="sourceCode objectivec"><span id="cb10-1"><a href="#cb10-1"></a>@(<span class="dv">2</span> + <span class="dv">3</span>) → <span class="dv">5</span></span>
<span id="cb10-2"><a href="#cb10-2"></a>@(fields.age + <span class="dv">10</span>) → <span class="dv">33</span></span></code></pre></div>
<p><a name="operator:concatenate"></a></p>
<h2 id="concatenate">Concatenate</h2>
<p>Joins two text values together.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode objectivec"><code class="sourceCode objectivec"><span id="cb11-1"><a href="#cb11-1"></a>@(<span class="st">&quot;hello&quot;</span> &amp; <span class="st">&quot; &quot;</span> &amp; <span class="st">&quot;bar&quot;</span>) → hello bar</span>
<span id="cb11-2"><a href="#cb11-2"></a>@(<span class="st">&quot;hello&quot;</span> &amp; null) → hello</span></code></pre></div>
<p><a name="operator:divide"></a></p>
<h2 id="divide">Divide</h2>
<p>Divides a number by another.</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode objectivec"><code class="sourceCode objectivec"><span id="cb12-1"><a href="#cb12-1"></a>@(<span class="dv">4</span> / <span class="dv">2</span>) → <span class="dv">2</span></span>
<span id="cb12-2"><a href="#cb12-2"></a>@(<span class="dv">3</span> / <span class="dv">2</span>) → <span class="fl">1.5</span></span>
<span id="cb12-3"><a href="#cb12-3"></a>@(<span class="dv">46</span> / fields.age) → <span class="dv">2</span></span>
<span id="cb12-4"><a href="#cb12-4"></a>@(<span class="dv">3</span> / <span class="dv">0</span>) → ERROR</span></code></pre></div>
<p><a name="operator:equal"></a></p>
<h2 id="equal">Equal</h2>
<p>Returns true if two values are textually equal.</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode objectivec"><code class="sourceCode objectivec"><span id="cb13-1"><a href="#cb13-1"></a>@(<span class="st">&quot;hello&quot;</span> = <span class="st">&quot;hello&quot;</span>) → true</span>
<span id="cb13-2"><a href="#cb13-2"></a>@(<span class="st">&quot;hello&quot;</span> = <span class="st">&quot;bar&quot;</span>) → false</span>
<span id="cb13-3"><a href="#cb13-3"></a>@(<span class="dv">1</span> = <span class="dv">1</span>) → true</span></code></pre></div>
<p><a name="operator:exponent"></a></p>
<h2 id="exponent">Exponent</h2>
<p>Raises a number to the power of a another number.</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode objectivec"><code class="sourceCode objectivec"><span id="cb14-1"><a href="#cb14-1"></a>@(<span class="dv">2</span> ^ <span class="dv">8</span>) → <span class="dv">256</span></span></code></pre></div>
<p><a name="operator:greaterthan"></a></p>
<h2 id="greaterthan">Greaterthan</h2>
<p>Returns true if the first number is greater than the second.</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode objectivec"><code class="sourceCode objectivec"><span id="cb15-1"><a href="#cb15-1"></a>@(<span class="dv">2</span> &gt; <span class="dv">3</span>) → false</span>
<span id="cb15-2"><a href="#cb15-2"></a>@(<span class="dv">3</span> &gt; <span class="dv">3</span>) → false</span>
<span id="cb15-3"><a href="#cb15-3"></a>@(<span class="dv">4</span> &gt; <span class="dv">3</span>) → true</span></code></pre></div>
<p><a name="operator:greaterthanorequal"></a></p>
<h2 id="greaterthanorequal">Greaterthanorequal</h2>
<p>Returns true if the first number is greater than or equal to the second.</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode objectivec"><code class="sourceCode objectivec"><span id="cb16-1"><a href="#cb16-1"></a>@(<span class="dv">2</span> &gt;= <span class="dv">3</span>) → false</span>
<span id="cb16-2"><a href="#cb16-2"></a>@(<span class="dv">3</span> &gt;= <span class="dv">3</span>) → true</span>
<span id="cb16-3"><a href="#cb16-3"></a>@(<span class="dv">4</span> &gt;= <span class="dv">3</span>) → true</span></code></pre></div>
<p><a name="operator:lessthan"></a></p>
<h2 id="lessthan">Lessthan</h2>
<p>Returns true if the first number is less than the second.</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode objectivec"><code class="sourceCode objectivec"><span id="cb17-1"><a href="#cb17-1"></a>@(<span class="dv">2</span> &lt; <span class="dv">3</span>) → true</span>
<span id="cb17-2"><a href="#cb17-2"></a>@(<span class="dv">3</span> &lt; <span class="dv">3</span>) → false</span>
<span id="cb17-3"><a href="#cb17-3"></a>@(<span class="dv">4</span> &lt; <span class="dv">3</span>) → false</span></code></pre></div>
<p><a name="operator:lessthanorequal"></a></p>
<h2 id="lessthanorequal">Lessthanorequal</h2>
<p>Returns true if the first number is less than or equal to the second.</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode objectivec"><code class="sourceCode objectivec"><span id="cb18-1"><a href="#cb18-1"></a>@(<span class="dv">2</span> &lt;= <span class="dv">3</span>) → true</span>
<span id="cb18-2"><a href="#cb18-2"></a>@(<span class="dv">3</span> &lt;= <span class="dv">3</span>) → true</span>
<span id="cb18-3"><a href="#cb18-3"></a>@(<span class="dv">4</span> &lt;= <span class="dv">3</span>) → false</span></code></pre></div>
<p><a name="operator:multiply"></a></p>
<h2 id="multiply">Multiply</h2>
<p>Multiplies two numbers.</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode objectivec"><code class="sourceCode objectivec"><span id="cb19-1"><a href="#cb19-1"></a>@(<span class="dv">3</span> * <span class="dv">2</span>) → <span class="dv">6</span></span>
<span id="cb19-2"><a href="#cb19-2"></a>@(fields.age * <span class="dv">3</span>) → <span class="dv">69</span></span></code></pre></div>
<p><a name="operator:negate"></a></p>
<h2 id="negate">Negate</h2>
<p>Negates a number</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode objectivec"><code class="sourceCode objectivec"><span id="cb20-1"><a href="#cb20-1"></a>@(-fields.age) → <span class="dv">-23</span></span></code></pre></div>
<p><a name="operator:notequal"></a></p>
<h2 id="notequal">Notequal</h2>
<p>Returns true if two values are textually not equal.</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode objectivec"><code class="sourceCode objectivec"><span id="cb21-1"><a href="#cb21-1"></a>@(<span class="st">&quot;hello&quot;</span> != <span class="st">&quot;hello&quot;</span>) → false</span>
<span id="cb21-2"><a href="#cb21-2"></a>@(<span class="st">&quot;hello&quot;</span> != <span class="st">&quot;bar&quot;</span>) → true</span>
<span id="cb21-3"><a href="#cb21-3"></a>@(<span class="dv">1</span> != <span class="dv">2</span>) → true</span></code></pre></div>
<p><a name="operator:subtract"></a></p>
<h2 id="subtract">Subtract</h2>
<p>Subtracts two numbers.</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode objectivec"><code class="sourceCode objectivec"><span id="cb22-1"><a href="#cb22-1"></a>@(<span class="dv">3</span> - <span class="dv">2</span>) → <span class="dv">1</span></span>
<span id="cb22-2"><a href="#cb22-2"></a>@(<span class="dv">2</span> - <span class="dv">3</span>) → <span class="dv">-1</span></span></code></pre></div>
</div>
<h1 id="functions">Functions</h1>
<p>Expressions have access to a set of built-in functions which can be used to perform more complex tasks. Functions are called using the <code>@(function_name(args..))</code> syntax, and can take as arguments either literal values <code>@(length(split("1 2 3", " "))</code> or variables in the context <code>@(title(contact.name))</code>.</p>
<div class="functions">
<p><a name="function:abs"></a></p>
<h2 id="absnumber">abs(number)</h2>
<p>Returns the absolute value of <code>number</code>.</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode objectivec"><code class="sourceCode objectivec"><span id="cb23-1"><a href="#cb23-1"></a>@(abs(-<span class="dv">10</span>)) → <span class="dv">10</span></span>
<span id="cb23-2"><a href="#cb23-2"></a>@(abs(<span class="fl">10.5</span>)) → <span class="fl">10.5</span></span>
<span id="cb23-3"><a href="#cb23-3"></a>@(abs(<span class="st">&quot;foo&quot;</span>)) → ERROR</span></code></pre></div>
<p><a name="function:and"></a></p>
<h2 id="andvalues">and(values…)</h2>
<p>Returns whether all the given <code>values</code> are truthy.</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode objectivec"><code class="sourceCode objectivec"><span id="cb24-1"><a href="#cb24-1"></a>@(and(true)) → true</span>
<span id="cb24-2"><a href="#cb24-2"></a>@(and(true, false, true)) → false</span></code></pre></div>
<p><a name="function:array"></a></p>
<h2 id="arrayvalues">array(values…)</h2>
<p>Takes multiple <code>values</code> and returns them as an array.</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode objectivec"><code class="sourceCode objectivec"><span id="cb25-1"><a href="#cb25-1"></a>@(array(<span class="st">&quot;a&quot;</span>, <span class="st">&quot;b&quot;</span>, <span class="dv">356</span>)[<span class="dv">1</span>]) → b</span>
<span id="cb25-2"><a href="#cb25-2"></a>@(join(array(<span class="st">&quot;a&quot;</span>, <span class="st">&quot;b&quot;</span>, <span class="st">&quot;c&quot;</span>), <span class="st">&quot;|&quot;</span>)) → a|b|c</span>
<span id="cb25-3"><a href="#cb25-3"></a>@(count(array())) → <span class="dv">0</span></span>
<span id="cb25-4"><a href="#cb25-4"></a>@(count(array(<span class="st">&quot;a&quot;</span>, <span class="st">&quot;b&quot;</span>))) → <span class="dv">2</span></span></code></pre></div>
<p><a name="function:attachment_parts"></a></p>
<h2 id="attachment_partsattachment">attachment_parts(attachment)</h2>
<p>Parses an attachment into its different parts</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode objectivec"><code class="sourceCode objectivec"><span id="cb26-1"><a href="#cb26-1"></a>@(attachment_parts(<span class="st">&quot;image/jpeg:https://example.com/test.jpg&quot;</span>)) → {content_type: image/jpeg, url: https:<span class="co">//example.com/test.jpg}</span></span></code></pre></div>
<p><a name="function:boolean"></a></p>
<h2 id="booleanvalue">boolean(value)</h2>
<p>Tries to convert <code>value</code> to a boolean.</p>
<p>An error is returned if the value can’t be converted.</p>
<div class="sourceCode" id="cb27"><pre class="sourceCode objectivec"><code class="sourceCode objectivec"><span id="cb27-1"><a href="#cb27-1"></a>@(boolean(array(<span class="dv">1</span>, <span class="dv">2</span>))) → true</span>
<span id="cb27-2"><a href="#cb27-2"></a>@(boolean(<span class="st">&quot;FALSE&quot;</span>)) → false</span>
<span id="cb27-3"><a href="#cb27-3"></a>@(boolean(<span class="dv">1</span> / <span class="dv">0</span>)) → ERROR</span></code></pre></div>
<p><a name="function:char"></a></p>
<h2 id="charcode">char(code)</h2>
<p>Returns the character for the given UNICODE <code>code</code>.</p>
<p>It is the inverse of <a href="expressions.html#function:code">code</a>.</p>
<div class="sourceCode" id="cb28"><pre class="sourceCode objectivec"><code class="sourceCode objectivec"><span id="cb28-1"><a href="#cb28-1"></a>@(<span class="dt">char</span>(<span class="dv">33</span>)) → !</span>
<span id="cb28-2"><a href="#cb28-2"></a>@(<span class="dt">char</span>(<span class="dv">128512</span>)) → 😀</span>
<span id="cb28-3"><a href="#cb28-3"></a>@(<span class="dt">char</span>(<span class="st">&quot;foo&quot;</span>)) → ERROR</span></code></pre></div>
<p><a name="function:clean"></a></p>
<h2 id="cleantext">clean(text)</h2>
<p>Removes any non-printable characters from <code>text</code>.</p>
<div class="sourceCode" id="cb29"><pre class="sourceCode objectivec"><code class="sourceCode objectivec"><span id="cb29-1"><a href="#cb29-1"></a>@(clean(<span class="st">&quot;😃 Hello </span><span class="sc">\n</span><span class="st">wo</span><span class="sc">\t</span><span class="st">r</span><span class="sc">\r</span><span class="st">ld&quot;</span>)) → 😃 Hello world</span>
<span id="cb29-2"><a href="#cb29-2"></a>@(clean(<span class="dv">123</span>)) → <span class="dv">123</span></span></code></pre></div>
<p><a name="function:code"></a></p>
<h2 id="codetext">code(text)</h2>
<p>Returns the UNICODE code for the first character of <code>text</code>.</p>
<p>It is the inverse of <a href="expressions.html#function:char">char</a>.</p>
<div class="sourceCode" id="cb30"><pre class="sourceCode objectivec"><code class="sourceCode objectivec"><span id="cb30-1"><a href="#cb30-1"></a>@(code(<span class="st">&quot;a&quot;</span>)) → <span class="dv">97</span></span>
<span id="cb30-2"><a href="#cb30-2"></a>@(code(<span class="st">&quot;abc&quot;</span>)) → <span class="dv">97</span></span>
<span id="cb30-3"><a href="#cb30-3"></a>@(code(<span class="st">&quot;😀&quot;</span>)) → <span class="dv">128512</span></span>
<span id="cb30-4"><a href="#cb30-4"></a>@(code(<span class="st">&quot;15&quot;</span>)) → <span class="dv">49</span></span>
<span id="cb30-5"><a href="#cb30-5"></a>@(code(<span class="dv">15</span>)) → <span class="dv">49</span></span>
<span id="cb30-6"><a href="#cb30-6"></a>@(code(<span class="st">&quot;&quot;</span>)) → ERROR</span></code></pre></div>
<p><a name="function:count"></a></p>
<h2 id="countvalue">count(value)</h2>
<p>Returns the number of items in the given array or properties on an object.</p>
<p>It will return an error if it is passed an item which isn’t countable.</p>
<div class="sourceCode" id="cb31"><pre class="sourceCode objectivec"><code class="sourceCode objectivec"><span id="cb31-1"><a href="#cb31-1"></a>@(count(contact.fields)) → <span class="dv">5</span></span>
<span id="cb31-2"><a href="#cb31-2"></a>@(count(array())) → <span class="dv">0</span></span>
<span id="cb31-3"><a href="#cb31-3"></a>@(count(array(<span class="st">&quot;a&quot;</span>, <span class="st">&quot;b&quot;</span>, <span class="st">&quot;c&quot;</span>))) → <span class="dv">3</span></span>
<span id="cb31-4"><a href="#cb31-4"></a>@(count(<span class="dv">1234</span>)) → ERROR</span></code></pre></div>
<p><a name="function:date"></a></p>
<h2 id="datevalue">date(value)</h2>
<p>Tries to convert <code>value</code> to a date.</p>
<p>If it is text then it will be parsed into a date using the default date format. An error is returned if the value can’t be converted.</p>
<div class="sourceCode" id="cb32"><pre class="sourceCode objectivec"><code class="sourceCode objectivec"><span id="cb32-1"><a href="#cb32-1"></a>@(date(<span class="st">&quot;1979-07-18&quot;</span>)) → <span class="dv">1979-07-18</span></span>
<span id="cb32-2"><a href="#cb32-2"></a>@(date(<span class="st">&quot;1979-07-18T10:30:45.123456Z&quot;</span>)) → <span class="dv">1979-07-18</span></span>
<span id="cb32-3"><a href="#cb32-3"></a>@(date(<span class="st">&quot;10/05/2010&quot;</span>)) → <span class="dv">2010-05-10</span></span>
<span id="cb32-4"><a href="#cb32-4"></a>@(date(<span class="st">&quot;NOT DATE&quot;</span>)) → ERROR</span></code></pre></div>
<p><a name="function:date_from_parts"></a></p>
<h2 id="date_from_partsyear-month-day">date_from_parts(year, month, day)</h2>
<p>Creates a date from <code>year</code>, <code>month</code> and <code>day</code>.</p>
<div class="sourceCode" id="cb33"><pre class="sourceCode objectivec"><code class="sourceCode objectivec"><span id="cb33-1"><a href="#cb33-1"></a>@(date_from_parts(<span class="dv">2017</span>, <span class="dv">1</span>, <span class="dv">15</span>)) → <span class="dv">2017-01-15</span></span>
<span id="cb33-2"><a href="#cb33-2"></a>@(date_from_parts(<span class="dv">2017</span>, <span class="dv">2</span>, <span class="dv">31</span>)) → <span class="dv">2017-03-03</span></span>
<span id="cb33-3"><a href="#cb33-3"></a>@(date_from_parts(<span class="dv">2017</span>, <span class="dv">13</span>, <span class="dv">15</span>)) → ERROR</span></code></pre></div>
<p><a name="function:datetime"></a></p>
<h2 id="datetimevalue">datetime(value)</h2>
<p>Tries to convert <code>value</code> to a datetime.</p>
<p>If it is text then it will be parsed into a datetime using the default date and time formats. An error is returned if the value can’t be converted.</p>
<div class="sourceCode" id="cb34"><pre class="sourceCode objectivec"><code class="sourceCode objectivec"><span id="cb34-1"><a href="#cb34-1"></a>@(datetime(<span class="st">&quot;1979-07-18&quot;</span>)) → <span class="dv">1979-07</span>-18T00:<span class="dv">00</span>:<span class="fl">00.000000</span><span class="dv">-05</span>:<span class="dv">00</span></span>
<span id="cb34-2"><a href="#cb34-2"></a>@(datetime(<span class="st">&quot;1979-07-18T10:30:45.123456Z&quot;</span>)) → <span class="dv">1979-07</span>-18T10:<span class="dv">30</span>:<span class="fl">45.123456</span>Z</span>
<span id="cb34-3"><a href="#cb34-3"></a>@(datetime(<span class="st">&quot;10/05/2010&quot;</span>)) → <span class="dv">2010-05</span>-10T00:<span class="dv">00</span>:<span class="fl">00.000000</span><span class="dv">-05</span>:<span class="dv">00</span></span>
<span id="cb34-4"><a href="#cb34-4"></a>@(datetime(<span class="st">&quot;NOT DATE&quot;</span>)) → ERROR</span></code></pre></div>
<p><a name="function:datetime_add"></a></p>
<h2 id="datetime_adddatetime-offset-unit">datetime_add(datetime, offset, unit)</h2>
<p>Calculates the date value arrived at by adding <code>offset</code> number of <code>unit</code> to the <code>datetime</code></p>
<p>Valid durations are “Y” for years, “M” for months, “W” for weeks, “D” for days, “h” for hour, “m” for minutes, “s” for seconds</p>
<div class="sourceCode" id="cb35"><pre class="sourceCode objectivec"><code class="sourceCode objectivec"><span id="cb35-1"><a href="#cb35-1"></a>@(datetime_add(<span class="st">&quot;2017-01-15&quot;</span>, <span class="dv">5</span>, <span class="st">&quot;D&quot;</span>)) → <span class="dv">2017-01</span>-20T00:<span class="dv">00</span>:<span class="fl">00.000000</span><span class="dv">-05</span>:<span class="dv">00</span></span>
<span id="cb35-2"><a href="#cb35-2"></a>@(datetime_add(<span class="st">&quot;2017-01-15 10:45&quot;</span>, <span class="dv">30</span>, <span class="st">&quot;m&quot;</span>)) → <span class="dv">2017-01</span>-15T11:<span class="dv">15</span>:<span class="fl">00.000000</span><span class="dv">-05</span>:<span class="dv">00</span></span></code></pre></div>
<p><a name="function:datetime_diff"></a></p>
<h2 id="datetime_diffdate1-date2-unit">datetime_diff(date1, date2, unit)</h2>
<p>Returns the duration between <code>date1</code> and <code>date2</code> in the <code>unit</code> specified.</p>
<p>Valid durations are “Y” for years, “M” for months, “W” for weeks, “D” for days, “h” for hour, “m” for minutes, “s” for seconds.</p>
<div class="sourceCode" id="cb36"><pre class="sourceCode objectivec"><code class="sourceCode objectivec"><span id="cb36-1"><a href="#cb36-1"></a>@(datetime_diff(<span class="st">&quot;2017-01-15&quot;</span>, <span class="st">&quot;2017-01-17&quot;</span>, <span class="st">&quot;D&quot;</span>)) → <span class="dv">2</span></span>
<span id="cb36-2"><a href="#cb36-2"></a>@(datetime_diff(<span class="st">&quot;2017-01-15&quot;</span>, <span class="st">&quot;2017-05-15&quot;</span>, <span class="st">&quot;W&quot;</span>)) → <span class="dv">17</span></span>
<span id="cb36-3"><a href="#cb36-3"></a>@(datetime_diff(<span class="st">&quot;2017-01-15&quot;</span>, <span class="st">&quot;2017-05-15&quot;</span>, <span class="st">&quot;M&quot;</span>)) → <span class="dv">4</span></span>
<span id="cb36-4"><a href="#cb36-4"></a>@(datetime_diff(<span class="st">&quot;2017-01-17 10:50&quot;</span>, <span class="st">&quot;2017-01-17 12:30&quot;</span>, <span class="st">&quot;h&quot;</span>)) → <span class="dv">1</span></span>
<span id="cb36-5"><a href="#cb36-5"></a>@(datetime_diff(<span class="st">&quot;2017-01-17&quot;</span>, <span class="st">&quot;2015-12-17&quot;</span>, <span class="st">&quot;Y&quot;</span>)) → <span class="dv">-2</span></span></code></pre></div>
<p><a name="function:datetime_from_epoch"></a></p>
<h2 id="datetime_from_epochseconds">datetime_from_epoch(seconds)</h2>
<p>Converts the UNIX epoch time <code>seconds</code> into a new date.</p>
<div class="sourceCode" id="cb37"><pre class="sourceCode objectivec"><code class="sourceCode objectivec"><span id="cb37-1"><a href="#cb37-1"></a>@(datetime_from_epoch(<span class="dv">1497286619</span>)) → <span class="dv">2017-06</span>-12T11:<span class="dv">56</span>:<span class="fl">59.000000</span><span class="dv">-05</span>:<span class="dv">00</span></span>
<span id="cb37-2"><a href="#cb37-2"></a>@(datetime_from_epoch(<span class="fl">1497286619.123456</span>)) → <span class="dv">2017-06</span>-12T11:<span class="dv">56</span>:<span class="fl">59.123456</span><span class="dv">-05</span>:<span class="dv">00</span></span></code></pre></div>
<p><a name="function:default"></a></p>
<h2 id="defaultvalue-default">default(value, default)</h2>
<p>Returns <code>value</code> if is not empty or an error, otherwise it returns <code>default</code>.</p>
<div class="sourceCode" id="cb38"><pre class="sourceCode objectivec"><code class="sourceCode objectivec"><span id="cb38-1"><a href="#cb38-1"></a>@(<span class="kw">default</span>(undeclared.var, <span class="st">&quot;default_value&quot;</span>)) → default_value</span>
<span id="cb38-2"><a href="#cb38-2"></a>@(<span class="kw">default</span>(<span class="st">&quot;10&quot;</span>, <span class="st">&quot;20&quot;</span>)) → <span class="dv">10</span></span>
<span id="cb38-3"><a href="#cb38-3"></a>@(<span class="kw">default</span>(<span class="st">&quot;&quot;</span>, <span class="st">&quot;value&quot;</span>)) → value</span>
<span id="cb38-4"><a href="#cb38-4"></a>@(<span class="kw">default</span>(array(<span class="dv">1</span>, <span class="dv">2</span>), <span class="st">&quot;value&quot;</span>)) → [<span class="dv">1</span>, <span class="dv">2</span>]</span>
<span id="cb38-5"><a href="#cb38-5"></a>@(<span class="kw">default</span>(array(), <span class="st">&quot;value&quot;</span>)) → value</span>
<span id="cb38-6"><a href="#cb38-6"></a>@(<span class="kw">default</span>(datetime(<span class="st">&quot;invalid-date&quot;</span>), <span class="st">&quot;today&quot;</span>)) → today</span>
<span id="cb38-7"><a href="#cb38-7"></a>@(<span class="kw">default</span>(format_urn(<span class="st">&quot;invalid-urn&quot;</span>), <span class="st">&quot;ok&quot;</span>)) → ok</span></code></pre></div>
<p><a name="function:epoch"></a></p>
<h2 id="epochdate">epoch(date)</h2>
<p>Converts <code>date</code> to a UNIX epoch time.</p>
<p>The returned number can contain fractional seconds.</p>
<div class="sourceCode" id="cb39"><pre class="sourceCode objectivec"><code class="sourceCode objectivec"><span id="cb39-1"><a href="#cb39-1"></a>@(epoch(<span class="st">&quot;2017-06-12T16:56:59.000000Z&quot;</span>)) → <span class="dv">1497286619</span></span>
<span id="cb39-2"><a href="#cb39-2"></a>@(epoch(<span class="st">&quot;2017-06-12T18:56:59.000000+02:00&quot;</span>)) → <span class="dv">1497286619</span></span>
<span id="cb39-3"><a href="#cb39-3"></a>@(epoch(<span class="st">&quot;2017-06-12T16:56:59.123456Z&quot;</span>)) → <span class="fl">1497286619.123456</span></span>
<span id="cb39-4"><a href="#cb39-4"></a>@(round_down(epoch(<span class="st">&quot;2017-06-12T16:56:59.123456Z&quot;</span>))) → <span class="dv">1497286619</span></span></code></pre></div>
<p><a name="function:extract"></a></p>
<h2 id="extractobject-properties">extract(object, properties)</h2>
<p>Takes an object and extracts the named property.</p>
<div class="sourceCode" id="cb40"><pre class="sourceCode objectivec"><code class="sourceCode objectivec"><span id="cb40-1"><a href="#cb40-1"></a>@(extract(contact, <span class="st">&quot;name&quot;</span>)) → Ryan Lewis</span>
<span id="cb40-2"><a href="#cb40-2"></a>@(extract(contact.groups[<span class="dv">0</span>], <span class="st">&quot;name&quot;</span>)) → Testers</span></code></pre></div>
<p><a name="function:extract_object"></a></p>
<h2 id="extract_objectobject-properties">extract_object(object, properties…)</h2>
<p>Takes an object and returns a new object by extracting only the named properties.</p>
<div class="sourceCode" id="cb41"><pre class="sourceCode objectivec"><code class="sourceCode objectivec"><span id="cb41-1"><a href="#cb41-1"></a>@(extract_object(contact.groups[<span class="dv">0</span>], <span class="st">&quot;name&quot;</span>)) → {name: Testers}</span></code></pre></div>
<p><a name="function:field"></a></p>
<h2 id="fieldtext-index-delimiter">field(text, index, delimiter)</h2>
<p>Splits <code>text</code> using the given <code>delimiter</code> and returns the field at <code>index</code>.</p>
<p>The index starts at zero. When splitting with a space, the delimiter is considered to be all whitespace.</p>
<div class="sourceCode" id="cb42"><pre class="sourceCode objectivec"><code class="sourceCode objectivec"><span id="cb42-1"><a href="#cb42-1"></a>@(field(<span class="st">&quot;a,b,c&quot;</span>, <span class="dv">1</span>, <span class="st">&quot;,&quot;</span>)) → b</span>
<span id="cb42-2"><a href="#cb42-2"></a>@(field(<span class="st">&quot;a,,b,c&quot;</span>, <span class="dv">1</span>, <span class="st">&quot;,&quot;</span>)) →</span>
<span id="cb42-3"><a href="#cb42-3"></a>@(field(<span class="st">&quot;a   b c&quot;</span>, <span class="dv">1</span>, <span class="st">&quot; &quot;</span>)) → b</span>
<span id="cb42-4"><a href="#cb42-4"></a>@(field(<span class="st">&quot;a      b   c   d&quot;</span>, <span class="dv">1</span>, <span class="st">&quot;    &quot;</span>)) →</span>
<span id="cb42-5"><a href="#cb42-5"></a>@(field(<span class="st">&quot;a</span><span class="sc">\t\t</span><span class="st">b</span><span class="sc">\t</span><span class="st">c</span><span class="sc">\t</span><span class="st">d&quot;</span>, <span class="dv">1</span>, <span class="st">&quot; &quot;</span>)) →</span>
<span id="cb42-6"><a href="#cb42-6"></a>@(field(<span class="st">&quot;a,b,c&quot;</span>, <span class="st">&quot;foo&quot;</span>, <span class="st">&quot;,&quot;</span>)) → ERROR</span></code></pre></div>
<p><a name="function:foreach"></a></p>
<h2 id="foreachvalues-func-args">foreach(values, func, [args…])</h2>
<p>Creates a new array by applying <code>func</code> to each value in <code>values</code>.</p>
<p>If the given function takes more than one argument, you can pass additional arguments after the function.</p>
<div class="sourceCode" id="cb43"><pre class="sourceCode objectivec"><code class="sourceCode objectivec"><span id="cb43-1"><a href="#cb43-1"></a>@(foreach(array(<span class="st">&quot;a&quot;</span>, <span class="st">&quot;b&quot;</span>, <span class="st">&quot;c&quot;</span>), upper)) → [A, B, C]</span>
<span id="cb43-2"><a href="#cb43-2"></a>@(foreach(array(<span class="st">&quot;the man&quot;</span>, <span class="st">&quot;fox&quot;</span>, <span class="st">&quot;jumped up&quot;</span>), word, <span class="dv">0</span>)) → [the, fox, jumped]</span></code></pre></div>
<p><a name="function:foreach_value"></a></p>
<h2 id="foreach_valueobject-func-args">foreach_value(object, func, [args…])</h2>
<p>Creates a new object by applying <code>func</code> to each property value of <code>object</code>.</p>
<p>If the given function takes more than one argument, you can pass additional arguments after the function.</p>
<div class="sourceCode" id="cb44"><pre class="sourceCode objectivec"><code class="sourceCode objectivec"><span id="cb44-1"><a href="#cb44-1"></a>@(foreach_value(object(<span class="st">&quot;a&quot;</span>, <span class="st">&quot;x&quot;</span>, <span class="st">&quot;b&quot;</span>, <span class="st">&quot;y&quot;</span>), upper)) → {a: X, b: Y}</span>
<span id="cb44-2"><a href="#cb44-2"></a>@(foreach_value(object(<span class="st">&quot;a&quot;</span>, <span class="st">&quot;hi there&quot;</span>, <span class="st">&quot;b&quot;</span>, <span class="st">&quot;good bye&quot;</span>), word, <span class="dv">1</span>)) → {a: there, b: bye}</span></code></pre></div>
<p><a name="function:format"></a></p>
<h2 id="formatvalue">format(value)</h2>
<p>Formats <code>value</code> according to its type.</p>
<div class="sourceCode" id="cb45"><pre class="sourceCode objectivec"><code class="sourceCode objectivec"><span id="cb45-1"><a href="#cb45-1"></a>@(format(<span class="fl">1234.5670</span>)) → <span class="dv">1</span>,<span class="fl">234.567</span></span>
<span id="cb45-2"><a href="#cb45-2"></a>@(format(now())) → <span class="dv">11-04-2018</span> <span class="dv">13</span>:<span class="dv">24</span></span>
<span id="cb45-3"><a href="#cb45-3"></a>@(format(today())) → <span class="dv">11-04-2018</span></span></code></pre></div>
<p><a name="function:format_date"></a></p>
<h2 id="format_datedate-format">format_date(date, [,format])</h2>
<p>Formats <code>date</code> as text according to the given <code>format</code>.</p>
<p>If <code>format</code> is not specified then the environment’s default format is used. The format string can consist of the following characters. The characters ’ ‘,’:‘,’,‘, ’T’, ‘-’ and ’_’ are ignored. Any other character is an error.</p>
<ul>
<li><code>YY</code> - last two digits of year 0-99</li>
<li><code>YYYY</code> - four digits of year 0000-9999</li>
<li><code>M</code> - month 1-12</li>
<li><code>MM</code> - month 01-12</li>
<li><code>D</code> - day of month, 1-31</li>
<li><code>DD</code> - day of month, zero padded 0-31</li>
</ul>
<div class="sourceCode" id="cb46"><pre class="sourceCode objectivec"><code class="sourceCode objectivec"><span id="cb46-1"><a href="#cb46-1"></a>@(format_date(<span class="st">&quot;1979-07-18T15:00:00.000000Z&quot;</span>)) → <span class="dv">18-07-1979</span></span>
<span id="cb46-2"><a href="#cb46-2"></a>@(format_date(<span class="st">&quot;1979-07-18T15:00:00.000000Z&quot;</span>, <span class="st">&quot;YYYY-MM-DD&quot;</span>)) → <span class="dv">1979-07-18</span></span>
<span id="cb46-3"><a href="#cb46-3"></a>@(format_date(<span class="st">&quot;2010-05-10T19:50:00.000000Z&quot;</span>, <span class="st">&quot;YYYY M DD&quot;</span>)) → <span class="dv">2010</span> <span class="dv">5</span> <span class="dv">10</span></span>
<span id="cb46-4"><a href="#cb46-4"></a>@(format_date(<span class="st">&quot;1979-07-18T15:00:00.000000Z&quot;</span>, <span class="st">&quot;YYYY&quot;</span>)) → <span class="dv">1979</span></span>
<span id="cb46-5"><a href="#cb46-5"></a>@(format_date(<span class="st">&quot;1979-07-18T15:00:00.000000Z&quot;</span>, <span class="st">&quot;M&quot;</span>)) → <span class="dv">7</span></span>
<span id="cb46-6"><a href="#cb46-6"></a>@(format_date(<span class="st">&quot;NOT DATE&quot;</span>, <span class="st">&quot;YYYY-MM-DD&quot;</span>)) → ERROR</span></code></pre></div>
<p><a name="function:format_datetime"></a></p>
<h2 id="format_datetimedatetime-format-timezone">format_datetime(datetime [,format [,timezone]])</h2>
<p>Formats <code>datetime</code> as text according to the given <code>format</code>.</p>
<p>If <code>format</code> is not specified then the environment’s default format is used. The format string can consist of the following characters. The characters ’ ‘,’:‘,’,‘, ’T’, ‘-’ and ’_’ are ignored. Any other character is an error.</p>
<ul>
<li><code>YY</code> - last two digits of year 0-99</li>
<li><code>YYYY</code> - four digits of year 0000-9999</li>
<li><code>M</code> - month 1-12</li>
<li><code>MM</code> - month 01-12</li>
<li><code>D</code> - day of month, 1-31</li>
<li><code>DD</code> - day of month, zero padded 0-31</li>
<li><code>h</code> - hour of the day 1-12</li>
<li><code>hh</code> - hour of the day 01-12</li>
<li><code>tt</code> - twenty four hour of the day 01-23</li>
<li><code>m</code> - minute 0-59</li>
<li><code>mm</code> - minute 00-59</li>
<li><code>s</code> - second 0-59</li>
<li><code>ss</code> - second 00-59</li>
<li><code>fff</code> - milliseconds</li>
<li><code>ffffff</code> - microseconds</li>
<li><code>fffffffff</code> - nanoseconds</li>
<li><code>aa</code> - am or pm</li>
<li><code>AA</code> - AM or PM</li>
<li><code>Z</code> - hour and minute offset from UTC, or Z for UTC</li>
<li><code>ZZZ</code> - hour and minute offset from UTC</li>
</ul>
<p>Timezone should be a location name as specified in the IANA Time Zone database, such as “America/Guayaquil” or “America/Los_Angeles”. If not specified, the current timezone will be used. An error will be returned if the timezone is not recognized.</p>
<div class="sourceCode" id="cb47"><pre class="sourceCode objectivec"><code class="sourceCode objectivec"><span id="cb47-1"><a href="#cb47-1"></a>@(format_datetime(<span class="st">&quot;1979-07-18T15:00:00.000000Z&quot;</span>)) → <span class="dv">18-07-1979</span> <span class="dv">10</span>:<span class="dv">00</span></span>
<span id="cb47-2"><a href="#cb47-2"></a>@(format_datetime(<span class="st">&quot;1979-07-18T15:00:00.000000Z&quot;</span>, <span class="st">&quot;YYYY-MM-DD&quot;</span>)) → <span class="dv">1979-07-18</span></span>
<span id="cb47-3"><a href="#cb47-3"></a>@(format_datetime(<span class="st">&quot;2010-05-10T19:50:00.000000Z&quot;</span>, <span class="st">&quot;YYYY M DD tt:mm&quot;</span>)) → <span class="dv">2010</span> <span class="dv">5</span> <span class="dv">10</span> <span class="dv">14</span>:<span class="dv">50</span></span>
<span id="cb47-4"><a href="#cb47-4"></a>@(format_datetime(<span class="st">&quot;2010-05-10T19:50:00.000000Z&quot;</span>, <span class="st">&quot;YYYY-MM-DD tt:mm AA&quot;</span>, <span class="st">&quot;America/Los_Angeles&quot;</span>)) → <span class="dv">2010-05-10</span> <span class="dv">12</span>:<span class="dv">50</span> PM</span>
<span id="cb47-5"><a href="#cb47-5"></a>@(format_datetime(<span class="st">&quot;1979-07-18T15:00:00.000000Z&quot;</span>, <span class="st">&quot;YYYY&quot;</span>)) → <span class="dv">1979</span></span>
<span id="cb47-6"><a href="#cb47-6"></a>@(format_datetime(<span class="st">&quot;1979-07-18T15:00:00.000000Z&quot;</span>, <span class="st">&quot;M&quot;</span>)) → <span class="dv">7</span></span>
<span id="cb47-7"><a href="#cb47-7"></a>@(format_datetime(<span class="st">&quot;NOT DATE&quot;</span>, <span class="st">&quot;YYYY-MM-DD&quot;</span>)) → ERROR</span></code></pre></div>
<p><a name="function:format_location"></a></p>
<h2 id="format_locationlocation">format_location(location)</h2>
<p>Formats the given <code>location</code> as its name.</p>
<div class="sourceCode" id="cb48"><pre class="sourceCode objectivec"><code class="sourceCode objectivec"><span id="cb48-1"><a href="#cb48-1"></a>@(format_location(<span class="st">&quot;Rwanda&quot;</span>)) → Rwanda</span>
<span id="cb48-2"><a href="#cb48-2"></a>@(format_location(<span class="st">&quot;Rwanda &gt; Kigali&quot;</span>)) → Kigali</span></code></pre></div>
<p><a name="function:format_number"></a></p>
<h2 id="format_numbernumber-places-humanize">format_number(number, places [, humanize])</h2>
<p>Formats <code>number</code> to the given number of decimal <code>places</code>.</p>
<p>An optional third argument <code>humanize</code> can be false to disable the use of thousand separators.</p>
<div class="sourceCode" id="cb49"><pre class="sourceCode objectivec"><code class="sourceCode objectivec"><span id="cb49-1"><a href="#cb49-1"></a>@(format_number(<span class="dv">1234</span>)) → <span class="dv">1</span>,<span class="dv">234</span></span>
<span id="cb49-2"><a href="#cb49-2"></a>@(format_number(<span class="fl">1234.5670</span>)) → <span class="dv">1</span>,<span class="fl">234.567</span></span>
<span id="cb49-3"><a href="#cb49-3"></a>@(format_number(<span class="fl">1234.5670</span>, <span class="dv">2</span>, true)) → <span class="dv">1</span>,<span class="fl">234.57</span></span>
<span id="cb49-4"><a href="#cb49-4"></a>@(format_number(<span class="fl">1234.5678</span>, <span class="dv">0</span>, false)) → <span class="dv">1235</span></span>
<span id="cb49-5"><a href="#cb49-5"></a>@(format_number(<span class="st">&quot;foo&quot;</span>, <span class="dv">2</span>, false)) → ERROR</span></code></pre></div>
<p><a name="function:format_time"></a></p>
<h2 id="format_timetime-format">format_time(time [,format])</h2>
<p>Formats <code>time</code> as text according to the given <code>format</code>.</p>
<p>If <code>format</code> is not specified then the environment’s default format is used. The format string can consist of the following characters. The characters ’ ‘,’:‘,’,‘, ’T’, ‘-’ and ’_’ are ignored. Any other character is an error.</p>
<ul>
<li><code>h</code> - hour of the day 1-12</li>
<li><code>hh</code> - hour of the day 01-12</li>
<li><code>tt</code> - twenty four hour of the day 01-23</li>
<li><code>m</code> - minute 0-59</li>
<li><code>mm</code> - minute 00-59</li>
<li><code>s</code> - second 0-59</li>
<li><code>ss</code> - second 00-59</li>
<li><code>fff</code> - milliseconds</li>
<li><code>ffffff</code> - microseconds</li>
<li><code>fffffffff</code> - nanoseconds</li>
<li><code>aa</code> - am or pm</li>
<li><code>AA</code> - AM or PM</li>
</ul>
<div class="sourceCode" id="cb50"><pre class="sourceCode objectivec"><code class="sourceCode objectivec"><span id="cb50-1"><a href="#cb50-1"></a>@(format_time(<span class="st">&quot;14:50:30.000000&quot;</span>)) → <span class="dv">14</span>:<span class="dv">50</span></span>
<span id="cb50-2"><a href="#cb50-2"></a>@(format_time(<span class="st">&quot;14:50:30.000000&quot;</span>, <span class="st">&quot;h:mm aa&quot;</span>)) → <span class="dv">2</span>:<span class="dv">50</span> pm</span>
<span id="cb50-3"><a href="#cb50-3"></a>@(format_time(<span class="st">&quot;15:00:27.000000&quot;</span>, <span class="st">&quot;s&quot;</span>)) → <span class="dv">27</span></span>
<span id="cb50-4"><a href="#cb50-4"></a>@(format_time(<span class="st">&quot;NOT TIME&quot;</span>, <span class="st">&quot;hh:mm&quot;</span>)) → ERROR</span></code></pre></div>
<p><a name="function:format_urn"></a></p>
<h2 id="format_urnurn">format_urn(urn)</h2>
<p>Formats <code>urn</code> into human friendly text.</p>
<div class="sourceCode" id="cb51"><pre class="sourceCode objectivec"><code class="sourceCode objectivec"><span id="cb51-1"><a href="#cb51-1"></a>@(format_urn(<span class="st">&quot;tel:+250781234567&quot;</span>)) → <span class="dv">0781</span> <span class="dv">234</span> <span class="dv">567</span></span>
<span id="cb51-2"><a href="#cb51-2"></a>@(format_urn(<span class="st">&quot;twitter:134252511151#billy_bob&quot;</span>)) → billy_bob</span>
<span id="cb51-3"><a href="#cb51-3"></a>@(format_urn(contact.urn)) → (<span class="dv">206</span>) <span class="dv">555-1212</span></span>
<span id="cb51-4"><a href="#cb51-4"></a>@(format_urn(urns.tel)) → (<span class="dv">206</span>) <span class="dv">555-1212</span></span>
<span id="cb51-5"><a href="#cb51-5"></a>@(format_urn(urns.mailto)) → foo@bar.com</span>
<span id="cb51-6"><a href="#cb51-6"></a>@(format_urn(<span class="st">&quot;NOT URN&quot;</span>)) → ERROR</span></code></pre></div>
<p><a name="function:if"></a></p>
<h2 id="iftest-value1-value2">if(test, value1, value2)</h2>
<p>Returns <code>value1</code> if <code>test</code> is truthy or <code>value2</code> if not.</p>
<p>If the first argument is an error that error is returned.</p>
<div class="sourceCode" id="cb52"><pre class="sourceCode objectivec"><code class="sourceCode objectivec"><span id="cb52-1"><a href="#cb52-1"></a>@(<span class="kw">if</span>(<span class="dv">1</span> = <span class="dv">1</span>, <span class="st">&quot;foo&quot;</span>, <span class="st">&quot;bar&quot;</span>)) → foo</span>
<span id="cb52-2"><a href="#cb52-2"></a>@(<span class="kw">if</span>(<span class="st">&quot;foo&quot;</span> &gt; <span class="st">&quot;bar&quot;</span>, <span class="st">&quot;foo&quot;</span>, <span class="st">&quot;bar&quot;</span>)) → ERROR</span></code></pre></div>
<p><a name="function:is_error"></a></p>
<h2 id="is_errorvalue">is_error(value)</h2>
<p>Returns whether <code>value</code> is an error</p>
<div class="sourceCode" id="cb53"><pre class="sourceCode objectivec"><code class="sourceCode objectivec"><span id="cb53-1"><a href="#cb53-1"></a>@(is_error(datetime(<span class="st">&quot;foo&quot;</span>))) → true</span>
<span id="cb53-2"><a href="#cb53-2"></a>@(is_error(run.not.existing)) → true</span>
<span id="cb53-3"><a href="#cb53-3"></a>@(is_error(<span class="st">&quot;hello&quot;</span>)) → false</span></code></pre></div>
<p><a name="function:join"></a></p>
<h2 id="joinarray-separator">join(array, separator)</h2>
<p>Joins the given <code>array</code> of strings with <code>separator</code> to make text.</p>
<div class="sourceCode" id="cb54"><pre class="sourceCode objectivec"><code class="sourceCode objectivec"><span id="cb54-1"><a href="#cb54-1"></a>@(join(array(<span class="st">&quot;a&quot;</span>, <span class="st">&quot;b&quot;</span>, <span class="st">&quot;c&quot;</span>), <span class="st">&quot;|&quot;</span>)) → a|b|c</span>
<span id="cb54-2"><a href="#cb54-2"></a>@(join(split(<span class="st">&quot;a.b.c&quot;</span>, <span class="st">&quot;.&quot;</span>), <span class="st">&quot; &quot;</span>)) → a b c</span></code></pre></div>
<p><a name="function:json"></a></p>
<h2 id="jsonvalue">json(value)</h2>
<p>Returns the JSON representation of <code>value</code>.</p>
<div class="sourceCode" id="cb55"><pre class="sourceCode objectivec"><code class="sourceCode objectivec"><span id="cb55-1"><a href="#cb55-1"></a>@(json(<span class="st">&quot;string&quot;</span>)) → <span class="st">&quot;string&quot;</span></span>
<span id="cb55-2"><a href="#cb55-2"></a>@(json(<span class="dv">10</span>)) → <span class="dv">10</span></span>
<span id="cb55-3"><a href="#cb55-3"></a>@(json(null)) → null</span>
<span id="cb55-4"><a href="#cb55-4"></a>@(json(contact.uuid)) → <span class="st">&quot;5d76d86b-3bb9-4d5a-b822-c9d86f5d8e4f&quot;</span></span></code></pre></div>
<p><a name="function:lower"></a></p>
<h2 id="lowertext">lower(text)</h2>
<p>Converts <code>text</code> to lowercase.</p>
<div class="sourceCode" id="cb56"><pre class="sourceCode objectivec"><code class="sourceCode objectivec"><span id="cb56-1"><a href="#cb56-1"></a>@(lower(<span class="st">&quot;HellO&quot;</span>)) → hello</span>
<span id="cb56-2"><a href="#cb56-2"></a>@(lower(<span class="st">&quot;hello&quot;</span>)) → hello</span>
<span id="cb56-3"><a href="#cb56-3"></a>@(lower(<span class="st">&quot;123&quot;</span>)) → <span class="dv">123</span></span>
<span id="cb56-4"><a href="#cb56-4"></a>@(lower(<span class="st">&quot;😀&quot;</span>)) → 😀</span></code></pre></div>
<p><a name="function:max"></a></p>
<h2 id="maxnumbers">max(numbers…)</h2>
<p>Returns the maximum value in <code>numbers</code>.</p>
<div class="sourceCode" id="cb57"><pre class="sourceCode objectivec"><code class="sourceCode objectivec"><span id="cb57-1"><a href="#cb57-1"></a>@(max(<span class="dv">1</span>, <span class="dv">2</span>)) → <span class="dv">2</span></span>
<span id="cb57-2"><a href="#cb57-2"></a>@(max(<span class="dv">1</span>, <span class="dv">-1</span>, <span class="dv">10</span>)) → <span class="dv">10</span></span>
<span id="cb57-3"><a href="#cb57-3"></a>@(max(<span class="dv">1</span>, <span class="dv">10</span>, <span class="st">&quot;foo&quot;</span>)) → ERROR</span></code></pre></div>
<p><a name="function:mean"></a></p>
<h2 id="meannumbers">mean(numbers…)</h2>
<p>Returns the arithmetic mean of <code>numbers</code>.</p>
<div class="sourceCode" id="cb58"><pre class="sourceCode objectivec"><code class="sourceCode objectivec"><span id="cb58-1"><a href="#cb58-1"></a>@(mean(<span class="dv">1</span>, <span class="dv">2</span>)) → <span class="fl">1.5</span></span>
<span id="cb58-2"><a href="#cb58-2"></a>@(mean(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">6</span>)) → <span class="dv">3</span></span>
<span id="cb58-3"><a href="#cb58-3"></a>@(mean(<span class="dv">1</span>, <span class="st">&quot;foo&quot;</span>)) → ERROR</span></code></pre></div>
<p><a name="function:min"></a></p>
<h2 id="minnumbers">min(numbers…)</h2>
<p>Returns the minimum value in <code>numbers</code>.</p>
<div class="sourceCode" id="cb59"><pre class="sourceCode objectivec"><code class="sourceCode objectivec"><span id="cb59-1"><a href="#cb59-1"></a>@(min(<span class="dv">1</span>, <span class="dv">2</span>)) → <span class="dv">1</span></span>
<span id="cb59-2"><a href="#cb59-2"></a>@(min(<span class="dv">2</span>, <span class="dv">2</span>, <span class="dv">-10</span>)) → <span class="dv">-10</span></span>
<span id="cb59-3"><a href="#cb59-3"></a>@(min(<span class="dv">1</span>, <span class="dv">2</span>, <span class="st">&quot;foo&quot;</span>)) → ERROR</span></code></pre></div>
<p><a name="function:mod"></a></p>
<h2 id="moddividend-divisor">mod(dividend, divisor)</h2>
<p>Returns the remainder of the division of <code>dividend</code> by <code>divisor</code>.</p>
<div class="sourceCode" id="cb60"><pre class="sourceCode objectivec"><code class="sourceCode objectivec"><span id="cb60-1"><a href="#cb60-1"></a>@(mod(<span class="dv">5</span>, <span class="dv">2</span>)) → <span class="dv">1</span></span>
<span id="cb60-2"><a href="#cb60-2"></a>@(mod(<span class="dv">4</span>, <span class="dv">2</span>)) → <span class="dv">0</span></span>
<span id="cb60-3"><a href="#cb60-3"></a>@(mod(<span class="dv">5</span>, <span class="st">&quot;foo&quot;</span>)) → ERROR</span></code></pre></div>
<p><a name="function:now"></a></p>
<h2 id="now">now()</h2>
<p>Returns the current date and time in the current timezone.</p>
<div class="sourceCode" id="cb61"><pre class="sourceCode objectivec"><code class="sourceCode objectivec"><span id="cb61-1"><a href="#cb61-1"></a>@(now()) → <span class="dv">2018-04</span>-11T13:<span class="dv">24</span>:<span class="fl">30.123456</span><span class="dv">-05</span>:<span class="dv">00</span></span></code></pre></div>
<p><a name="function:number"></a></p>
<h2 id="numbervalue">number(value)</h2>
<p>Tries to convert <code>value</code> to a number.</p>
<p>An error is returned if the value can’t be converted.</p>
<div class="sourceCode" id="cb62"><pre class="sourceCode objectivec"><code class="sourceCode objectivec"><span id="cb62-1"><a href="#cb62-1"></a>@(number(<span class="dv">10</span>)) → <span class="dv">10</span></span>
<span id="cb62-2"><a href="#cb62-2"></a>@(number(<span class="st">&quot;123.45000&quot;</span>)) → <span class="fl">123.45</span></span>
<span id="cb62-3"><a href="#cb62-3"></a>@(number(<span class="st">&quot;what?&quot;</span>)) → ERROR</span></code></pre></div>
<p><a name="function:object"></a></p>
<h2 id="objectpairs">object(pairs…)</h2>
<p>Takes property name value pairs and returns them as a new object.</p>
<div class="sourceCode" id="cb63"><pre class="sourceCode objectivec"><code class="sourceCode objectivec"><span id="cb63-1"><a href="#cb63-1"></a>@(object()) → {}</span>
<span id="cb63-2"><a href="#cb63-2"></a>@(object(<span class="st">&quot;a&quot;</span>, <span class="dv">123</span>, <span class="st">&quot;b&quot;</span>, <span class="st">&quot;hello&quot;</span>)) → {a: <span class="dv">123</span>, b: hello}</span>
<span id="cb63-3"><a href="#cb63-3"></a>@(object(<span class="st">&quot;a&quot;</span>)) → ERROR</span></code></pre></div>
<p><a name="function:or"></a></p>
<h2 id="orvalues">or(values…)</h2>
<p>Returns whether if any of the given <code>values</code> are truthy.</p>
<div class="sourceCode" id="cb64"><pre class="sourceCode objectivec"><code class="sourceCode objectivec"><span id="cb64-1"><a href="#cb64-1"></a>@(or(true)) → true</span>
<span id="cb64-2"><a href="#cb64-2"></a>@(or(true, false, true)) → true</span></code></pre></div>
<p><a name="function:parse_datetime"></a></p>
<h2 id="parse_datetimetext-format-timezone">parse_datetime(text, format [,timezone])</h2>
<p>Parses <code>text</code> into a date using the given <code>format</code>.</p>
<p>The format string can consist of the following characters. The characters ’ ‘,’:‘,’,‘, ’T’, ‘-’ and ’_’ are ignored. Any other character is an error.</p>
<ul>
<li><code>YY</code> - last two digits of year 0-99</li>
<li><code>YYYY</code> - four digits of year 0000-9999</li>
<li><code>M</code> - month 1-12</li>
<li><code>MM</code> - month 01-12</li>
<li><code>D</code> - day of month, 1-31</li>
<li><code>DD</code> - day of month, zero padded 0-31</li>
<li><code>h</code> - hour of the day 1-12</li>
<li><code>hh</code> - hour of the day 01-12</li>
<li><code>tt</code> - twenty four hour of the day 01-23</li>
<li><code>m</code> - minute 0-59</li>
<li><code>mm</code> - minute 00-59</li>
<li><code>s</code> - second 0-59</li>
<li><code>ss</code> - second 00-59</li>
<li><code>fff</code> - milliseconds</li>
<li><code>ffffff</code> - microseconds</li>
<li><code>fffffffff</code> - nanoseconds</li>
<li><code>aa</code> - am or pm</li>
<li><code>AA</code> - AM or PM</li>
<li><code>Z</code> - hour and minute offset from UTC, or Z for UTC</li>
<li><code>ZZZ</code> - hour and minute offset from UTC</li>
</ul>
<p>Timezone should be a location name as specified in the IANA Time Zone database, such as “America/Guayaquil” or “America/Los_Angeles”. If not specified, the current timezone will be used. An error will be returned if the timezone is not recognized.</p>
<p>Note that fractional seconds will be parsed even without an explicit format identifier. You should only specify fractional seconds when you want to assert the number of places in the input format.</p>
<p>parse_datetime will return an error if it is unable to convert the text to a datetime.</p>
<div class="sourceCode" id="cb65"><pre class="sourceCode objectivec"><code class="sourceCode objectivec"><span id="cb65-1"><a href="#cb65-1"></a>@(parse_datetime(<span class="st">&quot;1979-07-18&quot;</span>, <span class="st">&quot;YYYY-MM-DD&quot;</span>)) → <span class="dv">1979-07</span>-18T00:<span class="dv">00</span>:<span class="fl">00.000000</span><span class="dv">-05</span>:<span class="dv">00</span></span>
<span id="cb65-2"><a href="#cb65-2"></a>@(parse_datetime(<span class="st">&quot;2010 5 10&quot;</span>, <span class="st">&quot;YYYY M DD&quot;</span>)) → <span class="dv">2010-05</span>-10T00:<span class="dv">00</span>:<span class="fl">00.000000</span><span class="dv">-05</span>:<span class="dv">00</span></span>
<span id="cb65-3"><a href="#cb65-3"></a>@(parse_datetime(<span class="st">&quot;2010 5 10 12:50&quot;</span>, <span class="st">&quot;YYYY M DD tt:mm&quot;</span>, <span class="st">&quot;America/Los_Angeles&quot;</span>)) → <span class="dv">2010-05</span>-10T12:<span class="dv">50</span>:<span class="fl">00.000000</span><span class="dv">-07</span>:<span class="dv">00</span></span>
<span id="cb65-4"><a href="#cb65-4"></a>@(parse_datetime(<span class="st">&quot;NOT DATE&quot;</span>, <span class="st">&quot;YYYY-MM-DD&quot;</span>)) → ERROR</span></code></pre></div>
<p><a name="function:parse_json"></a></p>
<h2 id="parse_jsontext">parse_json(text)</h2>
<p>Tries to parse <code>text</code> as JSON.</p>
<p>If the given <code>text</code> is not valid JSON, then an error is returned</p>
<div class="sourceCode" id="cb66"><pre class="sourceCode objectivec"><code class="sourceCode objectivec"><span id="cb66-1"><a href="#cb66-1"></a>@(parse_json(<span class="st">&quot;{</span><span class="sc">\&quot;</span><span class="st">foo</span><span class="sc">\&quot;</span><span class="st">: </span><span class="sc">\&quot;</span><span class="st">bar</span><span class="sc">\&quot;</span><span class="st">}&quot;</span>).foo) → bar</span>
<span id="cb66-2"><a href="#cb66-2"></a>@(parse_json(<span class="st">&quot;[1,2,3,4]&quot;</span>)[<span class="dv">2</span>]) → <span class="dv">3</span></span>
<span id="cb66-3"><a href="#cb66-3"></a>@(parse_json(<span class="st">&quot;invalid json&quot;</span>)) → ERROR</span></code></pre></div>
<p><a name="function:parse_time"></a></p>
<h2 id="parse_timetext-format">parse_time(text, format)</h2>
<p>Parses <code>text</code> into a time using the given <code>format</code>.</p>
<p>The format string can consist of the following characters. The characters ’ ‘,’:‘,’,‘, ’T’, ‘-’ and ’_’ are ignored. Any other character is an error.</p>
<ul>
<li><code>h</code> - hour of the day 1-12</li>
<li><code>hh</code> - hour of the day 01-12</li>
<li><code>tt</code> - twenty four hour of the day 01-23</li>
<li><code>m</code> - minute 0-59</li>
<li><code>mm</code> - minute 00-59</li>
<li><code>s</code> - second 0-59</li>
<li><code>ss</code> - second 00-59</li>
<li><code>fff</code> - milliseconds</li>
<li><code>ffffff</code> - microseconds</li>
<li><code>fffffffff</code> - nanoseconds</li>
<li><code>aa</code> - am or pm</li>
<li><code>AA</code> - AM or PM</li>
</ul>
<p>Note that fractional seconds will be parsed even without an explicit format identifier. You should only specify fractional seconds when you want to assert the number of places in the input format.</p>
<p>parse_time will return an error if it is unable to convert the text to a time.</p>
<div class="sourceCode" id="cb67"><pre class="sourceCode objectivec"><code class="sourceCode objectivec"><span id="cb67-1"><a href="#cb67-1"></a>@(parse_time(<span class="st">&quot;15:28&quot;</span>, <span class="st">&quot;tt:mm&quot;</span>)) → <span class="dv">15</span>:<span class="dv">28</span>:<span class="fl">00.000000</span></span>
<span id="cb67-2"><a href="#cb67-2"></a>@(parse_time(<span class="st">&quot;2:40 pm&quot;</span>, <span class="st">&quot;h:mm aa&quot;</span>)) → <span class="dv">14</span>:<span class="dv">40</span>:<span class="fl">00.000000</span></span>
<span id="cb67-3"><a href="#cb67-3"></a>@(parse_time(<span class="st">&quot;NOT TIME&quot;</span>, <span class="st">&quot;tt:mm&quot;</span>)) → ERROR</span></code></pre></div>
<p><a name="function:percent"></a></p>
<h2 id="percentnumber">percent(number)</h2>
<p>Formats <code>number</code> as a percentage.</p>
<div class="sourceCode" id="cb68"><pre class="sourceCode objectivec"><code class="sourceCode objectivec"><span id="cb68-1"><a href="#cb68-1"></a>@(percent(<span class="fl">0.54234</span>)) → <span class="dv">54</span>%</span>
<span id="cb68-2"><a href="#cb68-2"></a>@(percent(<span class="fl">1.2</span>)) → <span class="dv">120</span>%</span>
<span id="cb68-3"><a href="#cb68-3"></a>@(percent(<span class="st">&quot;foo&quot;</span>)) → ERROR</span></code></pre></div>
<p><a name="function:rand"></a></p>
<h2 id="rand">rand()</h2>
<p>Returns a single random number between [0.0-1.0).</p>
<div class="sourceCode" id="cb69"><pre class="sourceCode objectivec"><code class="sourceCode objectivec"><span id="cb69-1"><a href="#cb69-1"></a>@(rand()) → <span class="fl">0.3849275689214193274523267973563633859157562255859375</span></span>
<span id="cb69-2"><a href="#cb69-2"></a>@(rand()) → <span class="fl">0.607552015674623913099594574305228888988494873046875</span></span></code></pre></div>
<p><a name="function:rand_between"></a></p>
<h2 id="rand_between">rand_between()</h2>
<p>A single random integer in the given inclusive range.</p>
<div class="sourceCode" id="cb70"><pre class="sourceCode objectivec"><code class="sourceCode objectivec"><span id="cb70-1"><a href="#cb70-1"></a>@(rand_between(<span class="dv">1</span>, <span class="dv">10</span>)) → <span class="dv">5</span></span>
<span id="cb70-2"><a href="#cb70-2"></a>@(rand_between(<span class="dv">1</span>, <span class="dv">10</span>)) → <span class="dv">10</span></span></code></pre></div>
<p><a name="function:read_chars"></a></p>
<h2 id="read_charstext">read_chars(text)</h2>
<p>Converts <code>text</code> into something that can be read by IVR systems.</p>
<p>ReadChars will split the numbers such as they are easier to understand. This includes splitting in 3s or 4s if appropriate.</p>
<div class="sourceCode" id="cb71"><pre class="sourceCode objectivec"><code class="sourceCode objectivec"><span id="cb71-1"><a href="#cb71-1"></a>@(read_chars(<span class="st">&quot;1234&quot;</span>)) → <span class="dv">1</span> <span class="dv">2</span> <span class="dv">3</span> <span class="dv">4</span></span>
<span id="cb71-2"><a href="#cb71-2"></a>@(read_chars(<span class="st">&quot;abc&quot;</span>)) → a b c</span>
<span id="cb71-3"><a href="#cb71-3"></a>@(read_chars(<span class="st">&quot;abcdef&quot;</span>)) → a b c , d e f</span></code></pre></div>
<p><a name="function:regex_match"></a></p>
<h2 id="regex_matchtext-pattern-group">regex_match(text, pattern [,group])</h2>
<p>Returns the first match of the regular expression <code>pattern</code> in <code>text</code>.</p>
<p>An optional third parameter <code>group</code> determines which matching group will be returned.</p>
<div class="sourceCode" id="cb72"><pre class="sourceCode objectivec"><code class="sourceCode objectivec"><span id="cb72-1"><a href="#cb72-1"></a>@(regex_match(<span class="st">&quot;sda34dfddg67&quot;</span>, <span class="st">&quot;\d+&quot;</span>)) → <span class="dv">34</span></span>
<span id="cb72-2"><a href="#cb72-2"></a>@(regex_match(<span class="st">&quot;Bob Smith&quot;</span>, <span class="st">&quot;(\w+) (\w+)&quot;</span>, <span class="dv">1</span>)) → Bob</span>
<span id="cb72-3"><a href="#cb72-3"></a>@(regex_match(<span class="st">&quot;Bob Smith&quot;</span>, <span class="st">&quot;(\w+) (\w+)&quot;</span>, <span class="dv">2</span>)) → Smith</span>
<span id="cb72-4"><a href="#cb72-4"></a>@(regex_match(<span class="st">&quot;Bob Smith&quot;</span>, <span class="st">&quot;(\w+) (\w+)&quot;</span>, <span class="dv">5</span>)) → ERROR</span>
<span id="cb72-5"><a href="#cb72-5"></a>@(regex_match(<span class="st">&quot;abc&quot;</span>, <span class="st">&quot;[\.&quot;</span>)) → ERROR</span></code></pre></div>
<p><a name="function:remove_first_word"></a></p>
<h2 id="remove_first_wordtext">remove_first_word(text)</h2>
<p>Removes the first word of <code>text</code>.</p>
<div class="sourceCode" id="cb73"><pre class="sourceCode objectivec"><code class="sourceCode objectivec"><span id="cb73-1"><a href="#cb73-1"></a>@(remove_first_word(<span class="st">&quot;foo bar&quot;</span>)) → bar</span>
<span id="cb73-2"><a href="#cb73-2"></a>@(remove_first_word(<span class="st">&quot;Hi there. I&#39;m a flow!&quot;</span>)) → there. I&#39;m a flow!</span></code></pre></div>
<p><a name="function:repeat"></a></p>
<h2 id="repeattext-count">repeat(text, count)</h2>
<p>Returns <code>text</code> repeated <code>count</code> number of times.</p>
<div class="sourceCode" id="cb74"><pre class="sourceCode objectivec"><code class="sourceCode objectivec"><span id="cb74-1"><a href="#cb74-1"></a>@(repeat(<span class="st">&quot;*&quot;</span>, <span class="dv">8</span>)) → ********</span>
<span id="cb74-2"><a href="#cb74-2"></a>@(repeat(<span class="st">&quot;*&quot;</span>, <span class="st">&quot;foo&quot;</span>)) → ERROR</span></code></pre></div>
<p><a name="function:replace"></a></p>
<h2 id="replacetext-needle-replacement-count">replace(text, needle, replacement [, count])</h2>
<p>Replaces up to <code>count</code> occurrences of <code>needle</code> with <code>replacement</code> in <code>text</code>.</p>
<p>If <code>count</code> is omitted or is less than 0 then all occurrences are replaced.</p>
<div class="sourceCode" id="cb75"><pre class="sourceCode objectivec"><code class="sourceCode objectivec"><span id="cb75-1"><a href="#cb75-1"></a>@(replace(<span class="st">&quot;foo bar foo&quot;</span>, <span class="st">&quot;foo&quot;</span>, <span class="st">&quot;zap&quot;</span>)) → zap bar zap</span>
<span id="cb75-2"><a href="#cb75-2"></a>@(replace(<span class="st">&quot;foo bar foo&quot;</span>, <span class="st">&quot;foo&quot;</span>, <span class="st">&quot;zap&quot;</span>, <span class="dv">1</span>)) → zap bar foo</span>
<span id="cb75-3"><a href="#cb75-3"></a>@(replace(<span class="st">&quot;foo bar&quot;</span>, <span class="st">&quot;baz&quot;</span>, <span class="st">&quot;zap&quot;</span>)) → foo bar</span></code></pre></div>
<p><a name="function:replace_time"></a></p>
<h2 id="replace_timedatetime">replace_time(datetime)</h2>
<p>Returns a new datetime with the time part replaced by the <code>time</code>.</p>
<div class="sourceCode" id="cb76"><pre class="sourceCode objectivec"><code class="sourceCode objectivec"><span id="cb76-1"><a href="#cb76-1"></a>@(replace_time(now(), <span class="st">&quot;10:30&quot;</span>)) → <span class="dv">2018-04</span>-11T10:<span class="dv">30</span>:<span class="fl">00.000000</span><span class="dv">-05</span>:<span class="dv">00</span></span>
<span id="cb76-2"><a href="#cb76-2"></a>@(replace_time(<span class="st">&quot;2017-01-15&quot;</span>, <span class="st">&quot;10:30&quot;</span>)) → <span class="dv">2017-01</span>-15T10:<span class="dv">30</span>:<span class="fl">00.000000</span><span class="dv">-05</span>:<span class="dv">00</span></span>
<span id="cb76-3"><a href="#cb76-3"></a>@(replace_time(<span class="st">&quot;foo&quot;</span>, <span class="st">&quot;10:30&quot;</span>)) → ERROR</span></code></pre></div>
<p><a name="function:round"></a></p>
<h2 id="roundnumber-places">round(number [,places])</h2>
<p>Rounds <code>number</code> to the nearest value.</p>
<p>You can optionally pass in the number of decimal places to round to as <code>places</code>. If <code>places</code> &lt; 0, it will round the integer part to the nearest 10^(-places).</p>
<div class="sourceCode" id="cb77"><pre class="sourceCode objectivec"><code class="sourceCode objectivec"><span id="cb77-1"><a href="#cb77-1"></a>@(round(<span class="dv">12</span>)) → <span class="dv">12</span></span>
<span id="cb77-2"><a href="#cb77-2"></a>@(round(<span class="fl">12.141</span>)) → <span class="dv">12</span></span>
<span id="cb77-3"><a href="#cb77-3"></a>@(round(<span class="fl">12.6</span>)) → <span class="dv">13</span></span>
<span id="cb77-4"><a href="#cb77-4"></a>@(round(<span class="fl">12.141</span>, <span class="dv">2</span>)) → <span class="fl">12.14</span></span>
<span id="cb77-5"><a href="#cb77-5"></a>@(round(<span class="fl">12.146</span>, <span class="dv">2</span>)) → <span class="fl">12.15</span></span>
<span id="cb77-6"><a href="#cb77-6"></a>@(round(<span class="fl">12.146</span>, <span class="dv">-1</span>)) → <span class="dv">10</span></span>
<span id="cb77-7"><a href="#cb77-7"></a>@(round(<span class="st">&quot;notnum&quot;</span>, <span class="dv">2</span>)) → ERROR</span></code></pre></div>
<p><a name="function:round_down"></a></p>
<h2 id="round_downnumber-places">round_down(number [,places])</h2>
<p>Rounds <code>number</code> down to the nearest integer value.</p>
<p>You can optionally pass in the number of decimal places to round to as <code>places</code>.</p>
<div class="sourceCode" id="cb78"><pre class="sourceCode objectivec"><code class="sourceCode objectivec"><span id="cb78-1"><a href="#cb78-1"></a>@(round_down(<span class="dv">12</span>)) → <span class="dv">12</span></span>
<span id="cb78-2"><a href="#cb78-2"></a>@(round_down(<span class="fl">12.141</span>)) → <span class="dv">12</span></span>
<span id="cb78-3"><a href="#cb78-3"></a>@(round_down(<span class="fl">12.6</span>)) → <span class="dv">12</span></span>
<span id="cb78-4"><a href="#cb78-4"></a>@(round_down(<span class="fl">12.141</span>, <span class="dv">2</span>)) → <span class="fl">12.14</span></span>
<span id="cb78-5"><a href="#cb78-5"></a>@(round_down(<span class="fl">12.146</span>, <span class="dv">2</span>)) → <span class="fl">12.14</span></span>
<span id="cb78-6"><a href="#cb78-6"></a>@(round_down(<span class="st">&quot;foo&quot;</span>)) → ERROR</span></code></pre></div>
<p><a name="function:round_up"></a></p>
<h2 id="round_upnumber-places">round_up(number [,places])</h2>
<p>Rounds <code>number</code> up to the nearest integer value.</p>
<p>You can optionally pass in the number of decimal places to round to as <code>places</code>.</p>
<div class="sourceCode" id="cb79"><pre class="sourceCode objectivec"><code class="sourceCode objectivec"><span id="cb79-1"><a href="#cb79-1"></a>@(round_up(<span class="dv">12</span>)) → <span class="dv">12</span></span>
<span id="cb79-2"><a href="#cb79-2"></a>@(round_up(<span class="fl">12.141</span>)) → <span class="dv">13</span></span>
<span id="cb79-3"><a href="#cb79-3"></a>@(round_up(<span class="fl">12.6</span>)) → <span class="dv">13</span></span>
<span id="cb79-4"><a href="#cb79-4"></a>@(round_up(<span class="fl">12.141</span>, <span class="dv">2</span>)) → <span class="fl">12.15</span></span>
<span id="cb79-5"><a href="#cb79-5"></a>@(round_up(<span class="fl">12.146</span>, <span class="dv">2</span>)) → <span class="fl">12.15</span></span>
<span id="cb79-6"><a href="#cb79-6"></a>@(round_up(<span class="st">&quot;foo&quot;</span>)) → ERROR</span></code></pre></div>
<p><a name="function:split"></a></p>
<h2 id="splittext-delimiters">split(text, delimiters)</h2>
<p>Splits <code>text</code> based on the given characters in <code>delimiters</code>.</p>
<p>Empty values are removed from the returned list.</p>
<div class="sourceCode" id="cb80"><pre class="sourceCode objectivec"><code class="sourceCode objectivec"><span id="cb80-1"><a href="#cb80-1"></a>@(split(<span class="st">&quot;a b c&quot;</span>, <span class="st">&quot; &quot;</span>)) → [a, b, c]</span>
<span id="cb80-2"><a href="#cb80-2"></a>@(split(<span class="st">&quot;a&quot;</span>, <span class="st">&quot; &quot;</span>)) → [a]</span>
<span id="cb80-3"><a href="#cb80-3"></a>@(split(<span class="st">&quot;abc..d&quot;</span>, <span class="st">&quot;.&quot;</span>)) → [abc, d]</span>
<span id="cb80-4"><a href="#cb80-4"></a>@(split(<span class="st">&quot;a.b.c.&quot;</span>, <span class="st">&quot;.&quot;</span>)) → [a, b, c]</span>
<span id="cb80-5"><a href="#cb80-5"></a>@(split(<span class="st">&quot;a|b,c  d&quot;</span>, <span class="st">&quot; .|,&quot;</span>)) → [a, b, c, d]</span></code></pre></div>
<p><a name="function:text"></a></p>
<h2 id="textvalue">text(value)</h2>
<p>Tries to convert <code>value</code> to text.</p>
<p>An error is returned if the value can’t be converted.</p>
<div class="sourceCode" id="cb81"><pre class="sourceCode objectivec"><code class="sourceCode objectivec"><span id="cb81-1"><a href="#cb81-1"></a>@(text(<span class="dv">3</span> = <span class="dv">3</span>)) → true</span>
<span id="cb81-2"><a href="#cb81-2"></a>@(json(text(<span class="fl">123.45</span>))) → <span class="st">&quot;123.45&quot;</span></span>
<span id="cb81-3"><a href="#cb81-3"></a>@(text(<span class="dv">1</span> / <span class="dv">0</span>)) → ERROR</span></code></pre></div>
<p><a name="function:text_compare"></a></p>
<h2 id="text_comparetext1-text2">text_compare(text1, text2)</h2>
<p>Returns the dictionary order of <code>text1</code> and <code>text2</code>.</p>
<p>The return value will be -1 if <code>text1</code> comes before <code>text2</code>, 0 if they are equal and 1 if <code>text1</code> comes after <code>text2</code>.</p>
<div class="sourceCode" id="cb82"><pre class="sourceCode objectivec"><code class="sourceCode objectivec"><span id="cb82-1"><a href="#cb82-1"></a>@(text_compare(<span class="st">&quot;abc&quot;</span>, <span class="st">&quot;abc&quot;</span>)) → <span class="dv">0</span></span>
<span id="cb82-2"><a href="#cb82-2"></a>@(text_compare(<span class="st">&quot;abc&quot;</span>, <span class="st">&quot;def&quot;</span>)) → <span class="dv">-1</span></span>
<span id="cb82-3"><a href="#cb82-3"></a>@(text_compare(<span class="st">&quot;zzz&quot;</span>, <span class="st">&quot;aaa&quot;</span>)) → <span class="dv">1</span></span></code></pre></div>
<p><a name="function:text_length"></a></p>
<h2 id="text_lengthvalue">text_length(value)</h2>
<p>Returns the length (number of characters) of <code>value</code> when converted to text.</p>
<div class="sourceCode" id="cb83"><pre class="sourceCode objectivec"><code class="sourceCode objectivec"><span id="cb83-1"><a href="#cb83-1"></a>@(text_length(<span class="st">&quot;abc&quot;</span>)) → <span class="dv">3</span></span>
<span id="cb83-2"><a href="#cb83-2"></a>@(text_length(array(<span class="dv">2</span>, <span class="dv">3</span>))) → <span class="dv">6</span></span></code></pre></div>
<p><a name="function:text_slice"></a></p>
<h2 id="text_slicetext-start-end">text_slice(text, start [, end])</h2>
<p>Returns the portion of <code>text</code> between <code>start</code> (inclusive) and <code>end</code> (exclusive).</p>
<p>If <code>end</code> is not specified then the entire rest of <code>text</code> will be included. Negative values for <code>start</code> or <code>end</code> start at the end of <code>text</code>.</p>
<div class="sourceCode" id="cb84"><pre class="sourceCode objectivec"><code class="sourceCode objectivec"><span id="cb84-1"><a href="#cb84-1"></a>@(text_slice(<span class="st">&quot;hello&quot;</span>, <span class="dv">2</span>)) → llo</span>
<span id="cb84-2"><a href="#cb84-2"></a>@(text_slice(<span class="st">&quot;hello&quot;</span>, <span class="dv">1</span>, <span class="dv">3</span>)) → el</span>
<span id="cb84-3"><a href="#cb84-3"></a>@(text_slice(<span class="st">&quot;hello😁&quot;</span>, <span class="dv">-3</span>, <span class="dv">-1</span>)) → lo</span>
<span id="cb84-4"><a href="#cb84-4"></a>@(text_slice(<span class="st">&quot;hello&quot;</span>, <span class="dv">7</span>)) →</span></code></pre></div>
<p><a name="function:time"></a></p>
<h2 id="timevalue">time(value)</h2>
<p>Tries to convert <code>value</code> to a time.</p>
<p>If it is text then it will be parsed into a time using the default time format. An error is returned if the value can’t be converted.</p>
<div class="sourceCode" id="cb85"><pre class="sourceCode objectivec"><code class="sourceCode objectivec"><span id="cb85-1"><a href="#cb85-1"></a>@(time(<span class="st">&quot;10:30&quot;</span>)) → <span class="dv">10</span>:<span class="dv">30</span>:<span class="fl">00.000000</span></span>
<span id="cb85-2"><a href="#cb85-2"></a>@(time(<span class="st">&quot;10:30:45 PM&quot;</span>)) → <span class="dv">22</span>:<span class="dv">30</span>:<span class="fl">45.000000</span></span>
<span id="cb85-3"><a href="#cb85-3"></a>@(time(datetime(<span class="st">&quot;1979-07-18T10:30:45.123456Z&quot;</span>))) → <span class="dv">10</span>:<span class="dv">30</span>:<span class="fl">45.123456</span></span>
<span id="cb85-4"><a href="#cb85-4"></a>@(time(<span class="st">&quot;what?&quot;</span>)) → ERROR</span></code></pre></div>
<p><a name="function:time_from_parts"></a></p>
<h2 id="time_from_partshour-minute-second">time_from_parts(hour, minute, second)</h2>
<p>Creates a time from <code>hour</code>, <code>minute</code> and <code>second</code></p>
<div class="sourceCode" id="cb86"><pre class="sourceCode objectivec"><code class="sourceCode objectivec"><span id="cb86-1"><a href="#cb86-1"></a>@(time_from_parts(<span class="dv">14</span>, <span class="dv">40</span>, <span class="dv">15</span>)) → <span class="dv">14</span>:<span class="dv">40</span>:<span class="fl">15.000000</span></span>
<span id="cb86-2"><a href="#cb86-2"></a>@(time_from_parts(<span class="dv">8</span>, <span class="dv">10</span>, <span class="dv">0</span>)) → <span class="dv">08</span>:<span class="dv">10</span>:<span class="fl">00.000000</span></span>
<span id="cb86-3"><a href="#cb86-3"></a>@(time_from_parts(<span class="dv">25</span>, <span class="dv">0</span>, <span class="dv">0</span>)) → ERROR</span></code></pre></div>
<p><a name="function:title"></a></p>
<h2 id="titletext">title(text)</h2>
<p>Capitalizes each word in <code>text</code>.</p>
<div class="sourceCode" id="cb87"><pre class="sourceCode objectivec"><code class="sourceCode objectivec"><span id="cb87-1"><a href="#cb87-1"></a>@(title(<span class="st">&quot;foo&quot;</span>)) → Foo</span>
<span id="cb87-2"><a href="#cb87-2"></a>@(title(<span class="st">&quot;ryan lewis&quot;</span>)) → Ryan Lewis</span>
<span id="cb87-3"><a href="#cb87-3"></a>@(title(<span class="st">&quot;RYAN LEWIS&quot;</span>)) → Ryan Lewis</span>
<span id="cb87-4"><a href="#cb87-4"></a>@(title(<span class="dv">123</span>)) → <span class="dv">123</span></span></code></pre></div>
<p><a name="function:today"></a></p>
<h2 id="today">today()</h2>
<p>Returns the current date in the environment timezone.</p>
<div class="sourceCode" id="cb88"><pre class="sourceCode objectivec"><code class="sourceCode objectivec"><span id="cb88-1"><a href="#cb88-1"></a>@(today()) → <span class="dv">2018-04-11</span></span></code></pre></div>
<p><a name="function:tz"></a></p>
<h2 id="tzdate">tz(date)</h2>
<p>Returns the name of the timezone of <code>date</code>.</p>
<p>If no timezone information is present in the date, then the current timezone will be returned.</p>
<div class="sourceCode" id="cb89"><pre class="sourceCode objectivec"><code class="sourceCode objectivec"><span id="cb89-1"><a href="#cb89-1"></a>@(tz(<span class="st">&quot;2017-01-15T02:15:18.123456Z&quot;</span>)) → UTC</span>
<span id="cb89-2"><a href="#cb89-2"></a>@(tz(<span class="st">&quot;2017-01-15 02:15:18PM&quot;</span>)) → America/Guayaquil</span>
<span id="cb89-3"><a href="#cb89-3"></a>@(tz(<span class="st">&quot;2017-01-15&quot;</span>)) → America/Guayaquil</span>
<span id="cb89-4"><a href="#cb89-4"></a>@(tz(<span class="st">&quot;foo&quot;</span>)) → ERROR</span></code></pre></div>
<p><a name="function:tz_offset"></a></p>
<h2 id="tz_offsetdate">tz_offset(date)</h2>
<p>Returns the offset of the timezone of <code>date</code>.</p>
<p>The offset is returned in the format <code>[+/-]HH:MM</code>. If no timezone information is present in the date, then the current timezone offset will be returned.</p>
<div class="sourceCode" id="cb90"><pre class="sourceCode objectivec"><code class="sourceCode objectivec"><span id="cb90-1"><a href="#cb90-1"></a>@(tz_offset(<span class="st">&quot;2017-01-15T02:15:18.123456Z&quot;</span>)) → +<span class="dv">0000</span></span>
<span id="cb90-2"><a href="#cb90-2"></a>@(tz_offset(<span class="st">&quot;2017-01-15 02:15:18PM&quot;</span>)) → <span class="dv">-0500</span></span>
<span id="cb90-3"><a href="#cb90-3"></a>@(tz_offset(<span class="st">&quot;2017-01-15&quot;</span>)) → <span class="dv">-0500</span></span>
<span id="cb90-4"><a href="#cb90-4"></a>@(tz_offset(<span class="st">&quot;foo&quot;</span>)) → ERROR</span></code></pre></div>
<p><a name="function:upper"></a></p>
<h2 id="uppertext">upper(text)</h2>
<p>Converts <code>text</code> to lowercase.</p>
<div class="sourceCode" id="cb91"><pre class="sourceCode objectivec"><code class="sourceCode objectivec"><span id="cb91-1"><a href="#cb91-1"></a>@(upper(<span class="st">&quot;Asdf&quot;</span>)) → ASDF</span>
<span id="cb91-2"><a href="#cb91-2"></a>@(upper(<span class="dv">123</span>)) → <span class="dv">123</span></span></code></pre></div>
<p><a name="function:url_encode"></a></p>
<h2 id="url_encodetext">url_encode(text)</h2>
<p>Encodes <code>text</code> for use as a URL parameter.</p>
<div class="sourceCode" id="cb92"><pre class="sourceCode objectivec"><code class="sourceCode objectivec"><span id="cb92-1"><a href="#cb92-1"></a>@(url_encode(<span class="st">&quot;two &amp; words&quot;</span>)) → two%<span class="dv">20</span>%<span class="dv">26</span>%20words</span>
<span id="cb92-2"><a href="#cb92-2"></a>@(url_encode(<span class="dv">10</span>)) → <span class="dv">10</span></span></code></pre></div>
<p><a name="function:urn_parts"></a></p>
<h2 id="urn_partsurn">urn_parts(urn)</h2>
<p>Parses a URN into its different parts</p>
<div class="sourceCode" id="cb93"><pre class="sourceCode objectivec"><code class="sourceCode objectivec"><span id="cb93-1"><a href="#cb93-1"></a>@(urn_parts(<span class="st">&quot;tel:+593979012345&quot;</span>)) → {display: , path: +<span class="dv">593979012345</span>, scheme: tel}</span>
<span id="cb93-2"><a href="#cb93-2"></a>@(urn_parts(<span class="st">&quot;twitterid:3263621177#bobby&quot;</span>)) → {display: bobby, path: <span class="dv">3263621177</span>, scheme: twitterid}</span></code></pre></div>
<p><a name="function:weekday"></a></p>
<h2 id="weekdaydate">weekday(date)</h2>
<p>Returns the day of the week for <code>date</code>.</p>
<p>The week is considered to start on Sunday so a Sunday returns 0, a Monday returns 1 etc.</p>
<div class="sourceCode" id="cb94"><pre class="sourceCode objectivec"><code class="sourceCode objectivec"><span id="cb94-1"><a href="#cb94-1"></a>@(weekday(<span class="st">&quot;2017-01-15&quot;</span>)) → <span class="dv">0</span></span>
<span id="cb94-2"><a href="#cb94-2"></a>@(weekday(<span class="st">&quot;foo&quot;</span>)) → ERROR</span></code></pre></div>
<p><a name="function:word"></a></p>
<h2 id="wordtext-index-delimiters">word(text, index [,delimiters])</h2>
<p>Returns the word at <code>index</code> in <code>text</code>.</p>
<p>Indexes start at zero. There is an optional final parameter <code>delimiters</code> which is string of characters used to split the text into words.</p>
<div class="sourceCode" id="cb95"><pre class="sourceCode objectivec"><code class="sourceCode objectivec"><span id="cb95-1"><a href="#cb95-1"></a>@(word(<span class="st">&quot;bee cat dog&quot;</span>, <span class="dv">0</span>)) → bee</span>
<span id="cb95-2"><a href="#cb95-2"></a>@(word(<span class="st">&quot;bee.cat,dog&quot;</span>, <span class="dv">0</span>)) → bee</span>
<span id="cb95-3"><a href="#cb95-3"></a>@(word(<span class="st">&quot;bee.cat,dog&quot;</span>, <span class="dv">1</span>)) → cat</span>
<span id="cb95-4"><a href="#cb95-4"></a>@(word(<span class="st">&quot;bee.cat,dog&quot;</span>, <span class="dv">2</span>)) → dog</span>
<span id="cb95-5"><a href="#cb95-5"></a>@(word(<span class="st">&quot;bee.cat,dog&quot;</span>, <span class="dv">-1</span>)) → dog</span>
<span id="cb95-6"><a href="#cb95-6"></a>@(word(<span class="st">&quot;bee.cat,dog&quot;</span>, <span class="dv">-2</span>)) → cat</span>
<span id="cb95-7"><a href="#cb95-7"></a>@(word(<span class="st">&quot;bee.*cat,dog&quot;</span>, <span class="dv">1</span>, <span class="st">&quot;.*=|&quot;</span>)) → cat,dog</span>
<span id="cb95-8"><a href="#cb95-8"></a>@(word(<span class="st">&quot;O&#39;Grady O&#39;Flaggerty&quot;</span>, <span class="dv">1</span>, <span class="st">&quot; &quot;</span>)) → O&#39;Flaggerty</span></code></pre></div>
<p><a name="function:word_count"></a></p>
<h2 id="word_counttext-delimiters">word_count(text [,delimiters])</h2>
<p>Returns the number of words in <code>text</code>.</p>
<p>There is an optional final parameter <code>delimiters</code> which is string of characters used to split the text into words.</p>
<div class="sourceCode" id="cb96"><pre class="sourceCode objectivec"><code class="sourceCode objectivec"><span id="cb96-1"><a href="#cb96-1"></a>@(word_count(<span class="st">&quot;foo bar&quot;</span>)) → <span class="dv">2</span></span>
<span id="cb96-2"><a href="#cb96-2"></a>@(word_count(<span class="dv">10</span>)) → <span class="dv">1</span></span>
<span id="cb96-3"><a href="#cb96-3"></a>@(word_count(<span class="st">&quot;&quot;</span>)) → <span class="dv">0</span></span>
<span id="cb96-4"><a href="#cb96-4"></a>@(word_count(<span class="st">&quot;😀😃😄😁&quot;</span>)) → <span class="dv">4</span></span>
<span id="cb96-5"><a href="#cb96-5"></a>@(word_count(<span class="st">&quot;bee.*cat,dog&quot;</span>, <span class="st">&quot;.*=|&quot;</span>)) → <span class="dv">2</span></span>
<span id="cb96-6"><a href="#cb96-6"></a>@(word_count(<span class="st">&quot;O&#39;Grady O&#39;Flaggerty&quot;</span>, <span class="st">&quot; &quot;</span>)) → <span class="dv">2</span></span></code></pre></div>
<p><a name="function:word_slice"></a></p>
<h2 id="word_slicetext-start-end-delimiters">word_slice(text, start, end [,delimiters])</h2>
<p>Extracts a sub-sequence of words from <code>text</code>.</p>
<p>The returned words are those from <code>start</code> up to but not-including <code>end</code>. Indexes start at zero and a negative end value means that all words after the start should be returned. There is an optional final parameter <code>delimiters</code> which is string of characters used to split the text into words.</p>
<div class="sourceCode" id="cb97"><pre class="sourceCode objectivec"><code class="sourceCode objectivec"><span id="cb97-1"><a href="#cb97-1"></a>@(word_slice(<span class="st">&quot;bee cat dog&quot;</span>, <span class="dv">0</span>, <span class="dv">1</span>)) → bee</span>
<span id="cb97-2"><a href="#cb97-2"></a>@(word_slice(<span class="st">&quot;bee cat dog&quot;</span>, <span class="dv">0</span>, <span class="dv">2</span>)) → bee cat</span>
<span id="cb97-3"><a href="#cb97-3"></a>@(word_slice(<span class="st">&quot;bee cat dog&quot;</span>, <span class="dv">1</span>, <span class="dv">-1</span>)) → cat dog</span>
<span id="cb97-4"><a href="#cb97-4"></a>@(word_slice(<span class="st">&quot;bee cat dog&quot;</span>, <span class="dv">1</span>)) → cat dog</span>
<span id="cb97-5"><a href="#cb97-5"></a>@(word_slice(<span class="st">&quot;bee cat dog&quot;</span>, <span class="dv">2</span>, <span class="dv">3</span>)) → dog</span>
<span id="cb97-6"><a href="#cb97-6"></a>@(word_slice(<span class="st">&quot;bee cat dog&quot;</span>, <span class="dv">3</span>, <span class="dv">10</span>)) →</span>
<span id="cb97-7"><a href="#cb97-7"></a>@(word_slice(<span class="st">&quot;bee.*cat,dog&quot;</span>, <span class="dv">1</span>, <span class="dv">-1</span>, <span class="st">&quot;.*=|,&quot;</span>)) → cat dog</span>
<span id="cb97-8"><a href="#cb97-8"></a>@(word_slice(<span class="st">&quot;O&#39;Grady O&#39;Flaggerty&quot;</span>, <span class="dv">1</span>, <span class="dv">2</span>, <span class="st">&quot; &quot;</span>)) → O&#39;Flaggerty</span></code></pre></div>
</div>

    </body>
</html>